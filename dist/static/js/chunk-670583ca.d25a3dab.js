(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-670583ca"],{"948d":function(e,t,i){"use strict";i("a19d")},a19d:function(e,t,i){},a983:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"measure-index-container"},[a("div",{staticClass:"measure-container-left measure-pulic_box_shadow"},[a("div",{class:[1==e.numberType?"measure-click_view_activity":"measure-click_view"],on:{click:function(t){return e.handleClick(1)}}},[e._v("栋舍设备布局")]),a("div",{class:[2==e.numberType?"measure-click_view_activity":"measure-click_view"],on:{click:function(t){return e.handleClick(2)}}},[e._v("个体健康历史记录")]),a("div",{class:[3==e.numberType?"measure-click_view_activity":"measure-click_view"],on:{click:function(t){return e.handleClick(3)}}},[e._v("猪只个体档案管理")]),a("div",{class:[4==e.numberType?"measure-click_view_activity":"measure-click_view"],on:{click:function(t){return e.handleClick(4)}}},[e._v("栋舍信息管理")]),a("div",{class:[5==e.numberType?"measure-click_view_activity":"measure-click_view"],on:{click:function(t){return e.handleClick(5)}}},[e._v("猪只批量入栏")]),a("div",{class:[6==e.numberType?"measure-click_view_activity":"measure-click_view"],on:{click:function(t){return e.handleClick(6)}}},[e._v("猪只批量转栏")]),a("div",{class:[7==e.numberType?"measure-click_view_activity":"measure-click_view"],on:{click:function(t){return e.handleClick(7)}}},[e._v("猪只离场记录")])]),a("div",{staticClass:"measure-container-right measure-pulic_box_shadow"},[1==e.numberType?a("div",[a("div",{staticClass:"measure-top-view"},[a("div",{staticClass:"measure-title"},[e._v("⽿环共计： ")]),a("div",{staticStyle:{"font-size":"18px","font-weight":"bold"}},[e._v(e._s(e.labelcount))]),a("div",{staticClass:"measure-title",staticStyle:{"margin-left":"5px"}},[e._v("个")]),a("div",{staticClass:"measure-title",staticStyle:{"margin-left":"30px"}},[e._v("摄像头共计： ")]),a("div",{staticStyle:{"font-size":"18px","font-weight":"bold"}},[e._v(e._s(e.cameracount))]),a("div",{staticClass:"measure-title",staticStyle:{"margin-left":"5px"}},[e._v("台")])]),a("div",{staticClass:"measure-div_view"},[a("el-row",e._l(e.listDisplaysum,(function(t,s){return a("el-col",{key:s,staticClass:"measure-box-col",attrs:{span:6}},[a("el-card",{staticClass:"measure-box-card",attrs:{"body-style":{padding:"0px"}}},[a("div",{staticStyle:{padding:"20px 0px 0px 0px"}},[a("div",{staticClass:"measure-image_view"},[a("img",{staticClass:"measure-image",attrs:{src:i("d3d8")}}),a("span",[e._v(e._s(t.location_descr))])]),a("div",{staticClass:"measure-bottom measure-clearfix"},[a("div",{staticClass:"measure-box-card-center",on:{click:function(i){return e.handlerLabel(t.id)}}},[a("img",{staticClass:"measure-icon-image",attrs:{src:i("d535")}}),a("div",{staticClass:"measure-item_view"},[a("span",{staticClass:"measure-item_view_1"},[e._v("耳环")]),a("span",{staticClass:"measure-item_view_2"},[e._v(e._s(t.labelsum))])])]),a("div",{staticClass:"measure-box-card-line"}),a("div",{staticClass:"measure-box-card-center"},[a("img",{staticClass:"measure-icon-image",attrs:{src:i("7fea")}}),a("div",{staticClass:"measure-item_view"},[a("span",{staticClass:"measure-item_view_1"},[e._v("摄像头")]),a("span",{staticClass:"measure-item_view_2"},[e._v(e._s(t.camerasum))])])])]),a("div",{staticClass:"measure-name_span"},[e._v("饲养员： "+e._s(t.administrators||"未知"))])]),t.feversum>0?a("div",{staticClass:"measure-badge-view",on:{click:function(i){return e.handlerBadge(t.id)}}},[e._v(e._s(t.feversum))]):e._e()])],1)})),1)],1)]):e._e(),2==e.numberType?a("div",[a("div",{staticClass:"measure-view_2"},[a("div",{staticClass:"measure-view_2_1"},[a("div",{staticClass:"measure-top-view"},[a("div",{staticClass:"measure-title"},[e._v("总存栏： ")]),a("div",{staticStyle:{"font-size":"18px","font-weight":"bold"}},[e._v(e._s(e.cun))]),a("div",{staticClass:"measure-title",staticStyle:{"margin-left":"30px"}},[e._v("发热： ")]),a("div",{staticStyle:{"font-size":"18px","font-weight":"bold",color:"red"}},[e._v(e._s(e.feversum))]),a("div",{staticClass:"measure-title",staticStyle:{"margin-left":"30px"}},[e._v("离线： ")]),a("div",{staticStyle:{"font-size":"18px","font-weight":"bold"}},[e._v(e._s(e.abnormalsum))])]),a("el-form",{staticClass:"measure-demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"耳号",prop:"source_label2"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入耳号",clearable:""},model:{value:e.source_label2,callback:function(t){e.source_label2=t},expression:"source_label2"}})],1),a("el-form-item",{attrs:{label:"场区",prop:"sitearea2"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{filterable:"",clearable:"",placeholder:"请选择场区"},on:{change:e.handlerChangeSitearea},model:{value:e.sitearea2,callback:function(t){e.sitearea2=t},expression:"sitearea2"}},e._l(e.listPigSitearea,(function(e,t){return a("el-option",{key:t,attrs:{label:e.location_descr,value:e.id+""}})})),1)],1),a("el-form-item",{attrs:{label:"栋舍",prop:"door2"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{filterable:"",clearable:"",placeholder:"请选择栋舍"},model:{value:e.door2,callback:function(t){e.door2=t},expression:"door2"}},e._l(e.listAllPiggery,(function(e,t){return a("el-option",{key:t,attrs:{label:e.location_descr,value:e.id+""}})})),1)],1),a("el-form-item",{attrs:{label:"状态",prop:"status2"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{filterable:"",clearable:"",placeholder:"请选择状态"},model:{value:e.status2,callback:function(t){e.status2=t},expression:"status2"}},[a("el-option",{attrs:{label:"全部",value:""}}),a("el-option",{attrs:{label:"正常",value:"1"}}),a("el-option",{attrs:{label:"发热",value:"4"}}),a("el-option",{attrs:{label:"离线",value:"2"}}),a("el-option",{attrs:{label:"离场",value:"3"}})],1)],1),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"medium",icon:"el-icon-search"},on:{click:function(t){return e.getPigHistorylist()}}},[e._v("查询")]),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"medium",icon:"el-icon-folder"},on:{click:function(t){return e.exportPigHistoryData()}}},[e._v("导出")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.listPigHistory,stripe:"",border:"","row-style":e.iRowStyle,"cell-style":e.iCellStyle,"header-row-style":e.iHeaderRowStyle,"header-cell-style":e.iHeaderCellStyle,height:"370"}},[a("el-table-column",{attrs:{prop:"source_label",width:"120",label:"耳号",align:"center"}}),a("el-table-column",{attrs:{prop:"label_id",width:"120",label:"电子耳标号",align:"center"}}),a("el-table-column",{attrs:{prop:"Sitearea",width:"190",label:"场区",align:"center"}}),a("el-table-column",{attrs:{prop:"door",width:"190",label:"栋舍",align:"center"}}),a("el-table-column",{attrs:{prop:"dorm",width:"190",label:"栏位",align:"center"}}),a("el-table-column",{attrs:{prop:"status",width:"110",label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.status?a("p",[e._v("正常")]):e._e(),"4"==t.row.status?a("p",[e._v("发热")]):e._e(),"2"==t.row.status?a("p",[e._v("离线")]):e._e(),"3"==t.row.status?a("p",[e._v("离场")]):e._e()]}}],null,!1,721057842)}),a("el-table-column",{attrs:{label:"操作",width:"230",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){return e.logisticsClick(t.row)}}},[e._v("详情")])]}}],null,!1,772986606)})],1),a("div",{staticClass:"block",staticStyle:{"margin-top":"0px"}},[a("el-pagination",{staticStyle:{padding:"30px 0","text-align":"center"},attrs:{"current-page":e.current2,"page-size":e.limit2,total:e.total2,layout:"total, sizes, prev, pager, next","page-sizes":[10,20,30,40]},on:{"current-change":e.getPigHistorylist,"size-change":e.handlePigHistorySizeChange}})],1)],1)])]):e._e(),3==e.numberType?a("div",[a("div",{staticClass:"measure-view_2"},[a("div",{staticClass:"measure-view_2_1"},[a("el-form",{staticClass:"measure-demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"耳号",prop:"source_label3"}},[a("el-input",{attrs:{placeholder:"请输入耳号",clearable:""},model:{value:e.source_label3,callback:function(t){e.source_label3=t},expression:"source_label3"}})],1),a("el-form-item",{attrs:{label:"品种",prop:"breed3"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{filterable:"",clearable:"",placeholder:"请选择品种"},model:{value:e.breed3,callback:function(t){e.breed3=t},expression:"breed3"}},e._l(e.listBreed,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1),a("el-form-item",{attrs:{label:"在场情况",prop:"presence_situation3"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{filterable:"",clearable:"",placeholder:"请选择在场情况"},model:{value:e.presence_situation3,callback:function(t){e.presence_situation3=t},expression:"presence_situation3"}},[a("el-option",{attrs:{label:"在场",value:"1"}}),a("el-option",{attrs:{label:"离场",value:"0"}})],1)],1),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"medium",icon:"el-icon-search"},on:{click:function(t){return e.getpiglist()}}},[e._v("查询")]),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"medium",icon:"el-icon-plus"},on:{click:function(t){return e.addDis()}}},[e._v("新增")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.listPig,stripe:"",border:"","row-style":e.iRowStyle,"cell-style":e.iCellStyle,"header-row-style":e.iHeaderRowStyle,"header-cell-style":e.iHeaderCellStyle,height:"430"}},[a("el-table-column",{attrs:{prop:"source_label",width:"120",label:"耳号",align:"center"}}),a("el-table-column",{attrs:{prop:"label_id",width:"130",label:"电子耳标号",align:"center"}}),a("el-table-column",{attrs:{prop:"breed",width:"190",label:"品种",align:"center"}}),a("el-table-column",{attrs:{prop:"label_type",width:"190",label:"性别",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.label_type?a("p",[e._v("育肥猪")]):e._e(),1==t.row.label_type?a("p",[e._v("母猪")]):e._e(),2==t.row.label_type?a("p",[e._v("仔猪")]):e._e(),3==t.row.label_type?a("p",[e._v("公猪")]):e._e()]}}],null,!1,636988822)}),a("el-table-column",{attrs:{prop:"presenceStatus",width:"120",label:"在场情况",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.presenceStatus||""==t.row.presenceStatus?a("p",[e._v("在场")]):e._e(),"0"==t.row.presenceStatus?a("p",[e._v("离场")]):e._e()]}}],null,!1,425600267)}),a("el-table-column",{attrs:{prop:"update_time||create_time",width:"200",label:"更新时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.update_time?a("p",[e._v(e._s(t.row.update_time))]):a("p",[e._v(e._s(t.row.create_time))])]}}],null,!1,1157312146)}),a("el-table-column",{attrs:{label:"操作",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){return e.handlerDisEdit(t.row.id)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){return e.handlerDelete(t.row.id)}}},[e._v("删除")])]}}],null,!1,3374440187)})],1),a("div",{staticClass:"block",staticStyle:{"margin-top":"0px"}},[a("el-pagination",{staticStyle:{padding:"30px 0","text-align":"center"},attrs:{"current-page":e.currentPig,"page-size":e.limitPig,total:e.totalPig,layout:"total, sizes, prev, pager, next","page-sizes":[10,20,30,40]},on:{"current-change":e.getpiglist,"size-change":e.handlePigSizeChange}})],1)],1)])]):e._e(),4==e.numberType?a("div",[a("div",{staticClass:"measure-view_2"},[a("div",{staticClass:"measure-view_2_1"},[a("el-form",{staticClass:"measure-demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"栋舍",prop:"door_name"}},[a("el-input",{attrs:{placeholder:"请输入栋舍",clearable:""},model:{value:e.door_name,callback:function(t){e.door_name=t},expression:"door_name"}})],1),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"medium",icon:"el-icon-search"},on:{click:function(t){return e.getDoorlist()}}},[e._v("查询")]),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"medium",icon:"el-icon-plus"},on:{click:function(t){return e.addDoor()}}},[e._v("新增")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.listDoor,stripe:"",border:"","row-style":e.iRowStyle1,"cell-style":e.iCellStyle1,"header-row-style":e.iHeaderRowStyle1,"header-cell-style":e.iHeaderCellStyle1,height:"435"}},[a("el-table-column",{attrs:{prop:"Sitearea",width:"160",label:"场区",align:"center"}}),a("el-table-column",{attrs:{prop:"door",width:"160",label:"栋舍",align:"center"}}),a("el-table-column",{attrs:{prop:"dorm",width:"300",label:"栏位",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{placement:"top-start",title:"",width:"300",trigger:"hover",content:t.row.dorm}},[a("div",{staticClass:"measure_people_view",attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.row.dorm))])])]}}],null,!1,2192196174)}),a("el-table-column",{attrs:{prop:"real_name",width:"110",label:"饲养员",align:"center"}}),a("el-table-column",{attrs:{prop:"HostName",width:"160",label:"耳环工作站",align:"center"}}),a("el-table-column",{attrs:{label:"操作",width:"260",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){return e.handlerDoorEdit(t.row.Siteareaid,t.row.Sitearea)}}},[e._v("新增栋舍")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){return e.handlerEdit(t.row.id,t.row.Siteareaid,t.row.Hostid,t.row.administrators)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){return e.handlerDelete(t.row.id)}}},[e._v("删除")])]}}],null,!1,2101558572)})],1),a("div",{staticClass:"block",staticStyle:{"margin-top":"0px"}},[a("el-pagination",{staticStyle:{padding:"30px 0","text-align":"center"},attrs:{"current-page":e.currentDoor,"page-size":e.limitDoor,total:e.totalDoor,layout:"total, sizes, prev, pager, next","page-sizes":[10,20,30,40]},on:{"current-change":e.getDoorlist,"size-change":e.handleDoorSizeChange}})],1)],1)])]):e._e(),5==e.numberType?a("div",[a("div",{staticClass:"measure-view_2"},[a("div",{staticClass:"measure-view_2_1"},[a("el-form",{staticClass:"measure-demo-form-inline2",attrs:{inline:!0}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"https://monitor.coyotebio-lab.com:8443/wisdomLivestockWH/pig/Newcommon/uploadLabelInfo.hn?pig_farm_id="+e.userInfo.farm_id+"&userid="+e.userInfo.userId,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[a("el-button",{staticStyle:{"margin-left":"0px"},attrs:{slot:"trigger",type:"primary",size:"medium",icon:"el-icon-document-add"},slot:"trigger"},[e._v("导入Excel")])],1),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"medium",icon:"el-icon-plus"},on:{click:function(t){return e.addLairage()}}},[e._v("转入")]),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"medium",icon:"el-icon-download"},on:{click:function(t){return e.downloadLairage()}}},[e._v("下载模版")])],1),a("div",{staticStyle:{height:"20px"}}),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.listLairaging,stripe:"",border:"","row-style":e.iRowStyle,"cell-style":e.iCellStyle,"header-row-style":e.iHeaderRowStyle,"header-cell-style":e.iHeaderCellStyle,height:"435"}},[a("el-table-column",{attrs:{prop:"source_label",width:"120",label:"耳号",align:"center"}}),a("el-table-column",{attrs:{prop:"label_id",width:"120",label:"电子耳标号",align:"center"}}),a("el-table-column",{attrs:{prop:"Sitearea",width:"180",label:"场区",align:"center"}}),a("el-table-column",{attrs:{prop:"door",width:"180",label:"栋舍",align:"center"}}),a("el-table-column",{attrs:{prop:"dorm",width:"180",label:"栏位",align:"center"}}),a("el-table-column",{attrs:{prop:"breed",width:"120",label:"品种",align:"center"}}),a("el-table-column",{attrs:{prop:"label_type",width:"80",label:"性别",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.label_type?a("p",[e._v("育肥猪")]):e._e(),1==t.row.label_type?a("p",[e._v("母猪")]):e._e(),2==t.row.label_type?a("p",[e._v("仔猪")]):e._e(),3==t.row.label_type?a("p",[e._v("公猪")]):e._e()]}}],null,!1,636988822)}),a("el-table-column",{attrs:{prop:"create_time",width:"170",label:"入栏时间",align:"center"}})],1),a("div",{staticClass:"block",staticStyle:{"margin-top":"0px"}},[a("el-pagination",{staticStyle:{padding:"30px 0","text-align":"center"},attrs:{"current-page":e.currentLairaging,"page-size":e.limitLairaging,total:e.totalLairaging,layout:"total, sizes, prev, pager, next","page-sizes":[10,20,30,40]},on:{"current-change":e.getLairagingList,"size-change":e.handleLairagingSizeChange}})],1)],1)])]):e._e(),6==e.numberType?a("div",[a("div",{staticClass:"measure-view_2"},[a("div",{staticClass:"measure-view_2_1"},[a("el-form",{staticClass:"measure-demo-form-inline2",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"时间范围"}},[a("el-date-picker",{staticStyle:{width:"260px"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.timeJumplist,callback:function(t){e.timeJumplist=t},expression:"timeJumplist"}})],1),a("el-form-item",{attrs:{label:"耳号",prop:"jump_source_label"}},[a("el-input",{attrs:{placeholder:"请输入耳号",clearable:""},model:{value:e.jump_source_label,callback:function(t){e.jump_source_label=t},expression:"jump_source_label"}})],1),a("el-button",{staticStyle:{"margin-left":"20px",height:"40px"},attrs:{type:"primary",size:"medium",icon:"el-icon-search"},on:{click:function(t){return e.getJumpList()}}},[e._v("查询")]),a("el-button",{staticStyle:{"margin-left":"20px",height:"40px"},attrs:{type:"primary",size:"medium",icon:"el-icon-plus"},on:{click:function(t){return e.addSuch()}}},[e._v("转栏")]),a("el-upload",{ref:"upload1",staticClass:"upload-demo",attrs:{action:"https://monitor.coyotebio-lab.com:8443/wisdomLivestockWH/PCpigManagement/uploadjumpInfo.hn?pig_farm_id="+e.userInfo.farm_id+"&userid="+e.userInfo.userId,"show-file-list":!1,"on-success":e.handleJumpSuccess,"before-upload":e.beforeJumpUpload}},[a("el-button",{staticStyle:{"margin-left":"20px",height:"40px"},attrs:{slot:"trigger",type:"primary",size:"medium",icon:"el-icon-document-add"},slot:"trigger"},[e._v("导入Excel")])],1),a("el-button",{staticStyle:{"margin-left":"20px",height:"40px"},attrs:{type:"primary",size:"medium",icon:"el-icon-download"},on:{click:function(t){return e.downloadSuch()}}},[e._v("下载模版")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.listJump,stripe:"",border:"",height:"430"}},[a("el-table-column",{attrs:{prop:"source_label",width:"140",label:"耳号",align:"center"}}),a("el-table-column",{attrs:{prop:"label_id",width:"150",label:"电子耳标号",align:"center"}}),a("el-table-column",{attrs:{prop:"Sitearea",width:"260",label:"转入场区",align:"center"}}),a("el-table-column",{attrs:{prop:"door",width:"200",label:"转入栋舍",align:"center"}}),a("el-table-column",{attrs:{prop:"dorm",width:"200",label:"转入栏位",align:"center"}}),a("el-table-column",{attrs:{prop:"create_time",width:"200",label:"日期",align:"center"}})],1),a("div",{staticClass:"block",staticStyle:{"margin-top":"0px"}},[a("el-pagination",{staticStyle:{padding:"30px 0","text-align":"center"},attrs:{"current-page":e.currentJump,"page-size":e.limitJump,total:e.totalJump,layout:"total, sizes, prev, pager, next","page-sizes":[10,20,30,40]},on:{"current-change":e.getJumpList,"size-change":e.handleJumpSizeChange}})],1)],1)])]):e._e(),7==e.numberType?a("div",[a("div",{staticClass:"measure-view_2"},[a("div",{staticClass:"measure-view_2_1"},[a("el-form",{staticClass:"measure-demo-form-inline3",attrs:{inline:!0}},[a("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"primary",size:"medium",icon:"el-icon-plus"},on:{click:function(t){return e.addOnline()}}},[e._v("新增")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.listOnline,stripe:"",border:"","row-style":e.iRowStyle2,"cell-style":e.iCellStyle2,"header-row-style":e.iHeaderRowStyle2,"header-cell-style":e.iHeaderCellStyle2,height:"435"}},[a("el-table-column",{attrs:{prop:"label_id",width:"230",label:"电子耳标号",align:"center"}}),a("el-table-column",{attrs:{prop:"source_label",width:"230",label:"耳号",align:"center"}}),a("el-table-column",{attrs:{prop:"status",width:"230",label:"状态",align:"center"}}),a("el-table-column",{attrs:{prop:"remarks",width:"230",label:"离场原因",align:"center"}}),a("el-table-column",{attrs:{prop:"check_out_time",width:"230",label:"离场日期",align:"center"}})],1),a("div",{staticClass:"block",staticStyle:{"margin-top":"0px"}},[a("el-pagination",{staticStyle:{padding:"30px 0","text-align":"center"},attrs:{"current-page":e.currentOnline,"page-size":e.limitOnline,total:e.totalOnline,layout:"total, sizes, prev, pager, next","page-sizes":[10,20,30,40]},on:{"current-change":e.getOnlineList,"size-change":e.handleOnlineSizeChange}})],1)],1)])]):e._e()]),a("el-dialog",{attrs:{title:"猪只个体信息详情",visible:e.logisticsDialog,width:"80%",center:"","close-on-click-modal":!1,"destroy-on-close":!0},on:{"update:visible":function(t){e.logisticsDialog=t},close:e.handlerReturn}},[a("div",{staticClass:"el-dialog-div"},[a("div",{staticClass:"measure-view_2_top measure-pulic_box_shadow",staticStyle:{"margin-top":"0px"}},[a("div",{staticClass:"measure-view_2_top_1"},[a("span",{staticClass:"measure-view_2_top_1_1"},[e._v(e._s(e.pigInfoObj.source_label))]),a("span",{staticClass:"measure-view_2_top_1_2"},[e._v("耳号")])]),a("div",{staticClass:"measure-view_2_top_1"},[a("span",{staticClass:"measure-view_2_top_1_1"},[e._v(e._s(e.pigInfoObj.label_id))]),a("span",{staticClass:"measure-view_2_top_1_2"},[e._v("电子耳号")])]),a("div",{staticClass:"measure-view_2_top_1"},[a("span",{staticClass:"measure-view_2_top_1_1"},[e._v(e._s(0==e.pigInfoObj.label_type?"育肥猪":1==e.pigInfoObj.label_type?"母猪":2==e.pigInfoObj.label_type?"仔猪":"公猪"))]),a("span",{staticClass:"measure-view_2_top_1_2"},[e._v("性别")])]),a("div",{staticClass:"measure-view_2_top_1"},[a("span",{staticClass:"measure-view_2_top_1_1"},[e._v(e._s(e.pigInfoObj.breed))]),a("span",{staticClass:"measure-view_2_top_1_2"},[e._v("品种")])])]),a("el-form",{staticClass:"measure-demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"时间范围"}},[a("el-date-picker",{staticStyle:{width:"260px"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.timepiglist,callback:function(t){e.timepiglist=t},expression:"timepiglist"}})],1),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"medium",icon:"el-icon-search"},on:{click:function(t){return e.getLabelTemActInfo()}}},[e._v("查询")]),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"medium",icon:"el-icon-folder"},on:{click:function(t){return e.exportPigDetailsData()}}},[e._v("导出")]),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"medium",icon:"el-icon-document"},on:{click:function(t){return e.showColumn()}}},[e._v("转栏记录")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.listLabelTemActInfo,stripe:"",border:"","row-style":e.iRowStyle,"cell-style":e.iCellStyle,"header-row-style":e.iHeaderRowStyle,"header-cell-style":e.iHeaderCellStyle,height:"300"}},[a("el-table-column",{attrs:{prop:"Sitearea",width:"200",label:"场区",align:"center"}}),a("el-table-column",{attrs:{prop:"door",width:"200",label:"栋舍",align:"center"}}),a("el-table-column",{attrs:{prop:"dorm",width:"200",label:"栏位",align:"center"}}),a("el-table-column",{attrs:{prop:"temp",width:"140",label:"体温(°C)",align:"center"}}),a("el-table-column",{attrs:{prop:"act",width:"152",label:"活跃度",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.act?a("p",[e._v("无")]):e._e(),"1"==t.row.act?a("p",[e._v("低")]):e._e(),"2"==t.row.act?a("p",[e._v("中")]):e._e(),"3"==t.row.act?a("p",[e._v("高")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"date",width:"200",label:"更新时间",align:"center"}})],1),a("div",{staticClass:"block",staticStyle:{"margin-top":"0px"}},[a("el-pagination",{staticStyle:{padding:"30px 0","text-align":"center"},attrs:{"current-page":e.currentLabel,"page-size":e.limitLabel,total:e.totalLabel,layout:"total, sizes, prev, pager, next","page-sizes":[10,20,30,40]},on:{"current-change":e.getLabelTemActInfo,"size-change":e.handleLabelSizeChange}})],1),a("div",{staticClass:"measure-echarts_view"},[a("div",{staticClass:"measure-date-view"},[a("el-radio-group",{attrs:{size:"small"},on:{input:e.handlerTempDateType},model:{value:e.temp_date_type,callback:function(t){e.temp_date_type=t},expression:"temp_date_type"}},[a("el-radio-button",{attrs:{label:"0"}},[e._v("天")]),a("el-radio-button",{attrs:{label:"1"}},[e._v("周")]),a("el-radio-button",{attrs:{label:"2"}},[e._v("6个月")])],1),a("el-date-picker",{staticStyle:{width:"260px","margin-left":"30px"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",readonly:!0,size:"small"},model:{value:e.timeEchartslist,callback:function(t){e.timeEchartslist=t},expression:"timeEchartslist"}}),"0"==e.temp_date_type?a("div",{class:[1==e.tempDayType?"measure-date-view-click-activity":"measure-date-view-click"],on:{click:function(t){return e.handlerTempDayType(1)}}},[e._v("前一天")]):e._e(),"0"==e.temp_date_type?a("div",{class:[2==e.tempDayType?"measure-date-view-click-activity":"measure-date-view-click"],on:{click:function(t){return e.handlerTempDayType(2)}}},[e._v("前二天")]):e._e(),"0"==e.temp_date_type?a("div",{class:[3==e.tempDayType?"measure-date-view-click-activity":"measure-date-view-click"],on:{click:function(t){return e.handlerTempDayType(3)}}},[e._v("前三天")]):e._e()],1),a("div",{staticClass:"measure-echarts_view_top"},[a("div",{staticClass:"measure-echarts_view_l"},[a("div",{staticClass:"measure-echarts_view_title"},[e._v("猪只体温曲线图")]),a("div",{staticStyle:{width:"520px",height:"400px"},attrs:{id:"echarttemp"}})]),a("div",{staticClass:"measure-echarts_view_r"},[a("div",{staticClass:"measure-echarts_view_title"},[e._v("猪只活跃度")]),a("div",{staticStyle:{width:"520px",height:"400px"},attrs:{id:"echartact"}})])]),a("div",{staticClass:"measure-echarts_view_center"})]),a("div",{staticClass:"measure-from-footer"},[a("el-button",{on:{click:e.handlerReturn}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handlerReturn}},[e._v("确定")])],1)],1)]),a("el-dialog",{attrs:{title:"新添/修改",visible:e.showDisDialog,width:"40%",center:"","close-on-click-modal":!1,"show-close":!1},on:{"update:visible":function(t){e.showDisDialog=t}}},[a("el-form",{ref:"formDisObj",attrs:{rules:e.rulesDis,model:e.formDisObj,"label-width":"160px"}},[a("div",{staticClass:"measure-flex-center"},[a("el-form-item",{attrs:{label:"耳号*：",prop:"dis_sn"}},[a("el-input",{staticStyle:{width:"260px"},attrs:{placeholder:"请输入耳号"},model:{value:e.formDisObj.dis_sn,callback:function(t){e.$set(e.formDisObj,"dis_sn",t)},expression:"formDisObj.dis_sn"}})],1),a("el-form-item",{staticStyle:{"margin-left":"0px"},attrs:{label:"电子耳标：",prop:"dis_address"}},[a("el-input",{staticStyle:{width:"260px"},attrs:{placeholder:"请输入电子耳标"},model:{value:e.formDisObj.dis_address,callback:function(t){e.$set(e.formDisObj,"dis_address",t)},expression:"formDisObj.dis_address"}})],1),a("el-form-item",{attrs:{label:"性别*：",prop:"dis_gender"}},[a("el-select",{staticStyle:{width:"260px"},attrs:{placeholder:"请选择性别"},model:{value:e.formDisObj.dis_gender,callback:function(t){e.$set(e.formDisObj,"dis_gender",t)},expression:"formDisObj.dis_gender"}},[a("el-option",{attrs:{label:"母猪",value:"1"}}),a("el-option",{attrs:{label:"公猪",value:"3"}})],1)],1),a("el-form-item",{attrs:{label:"品种*：",prop:"dis_time"}},[a("el-select",{staticStyle:{width:"260px"},attrs:{filterable:"",clearable:"",placeholder:"请选择品种"},model:{value:e.formDisObj.dis_time,callback:function(t){e.$set(e.formDisObj,"dis_time",t)},expression:"formDisObj.dis_time"}},e._l(e.listBreed,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1)],1),a("div",{staticClass:"measure-from-footer"},[a("el-button",{on:{click:function(t){return e.resetDisForm("formDisObj")}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onDisSubmit("formDisObj")}}},[e._v("保存")])],1)])],1),a("el-dialog",{attrs:{visible:e.deleteOzoneDialog,width:"30%",center:""},on:{"update:visible":function(t){e.deleteOzoneDialog=t}}},[a("span",[e._v("确定要删除该数据吗？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.deleteOzoneDialog=!1}}},[e._v("取 消")]),a("el-button",{on:{click:function(t){return e.deleteOzoneClick()}}},[e._v("确 定")])],1)]),a("el-dialog",{attrs:{title:"新添",visible:e.showDoorDialog,width:"40%",center:"","close-on-click-modal":!1,"show-close":!1},on:{"update:visible":function(t){e.showDoorDialog=t}}},[a("el-form",{ref:"formDoorObj",attrs:{rules:e.rulesDoor,model:e.formDoorObj,"label-width":"160px"}},[a("div",{staticClass:"measure-flex-center"},[a("el-form-item",{attrs:{label:"场区名称*：",prop:"door_sitearea"}},[a("el-input",{staticStyle:{width:"260px"},attrs:{placeholder:"请输入场区名称",readonly:2==e.isDoorEdit},model:{value:e.formDoorObj.door_sitearea,callback:function(t){e.$set(e.formDoorObj,"door_sitearea",t)},expression:"formDoorObj.door_sitearea"}})],1),a("el-form-item",{attrs:{label:"栋舍名称*：",prop:"door_doorname"}},[a("el-input",{staticStyle:{width:"260px"},attrs:{placeholder:"请输入栋舍名称"},model:{value:e.formDoorObj.door_doorname,callback:function(t){e.$set(e.formDoorObj,"door_doorname",t)},expression:"formDoorObj.door_doorname"}})],1),a("el-form-item",{attrs:{label:"饲养员*：",prop:"door_userid"}},[a("el-select",{staticStyle:{width:"260px"},attrs:{placeholder:"请选择饲养员"},model:{value:e.formDoorObj.door_userid,callback:function(t){e.$set(e.formDoorObj,"door_userid",t)},expression:"formDoorObj.door_userid"}},e._l(e.listEmployees,(function(e,t){return a("el-option",{key:t,attrs:{label:e.real_name,value:e.id+""}})})),1)],1),a("el-form-item",{attrs:{label:"工作站*：",prop:"door_hostid"}},[a("el-select",{staticStyle:{width:"260px"},attrs:{filterable:"",clearable:"",placeholder:"请选择工作站"},model:{value:e.formDoorObj.door_hostid,callback:function(t){e.$set(e.formDoorObj,"door_hostid",t)},expression:"formDoorObj.door_hostid"}},e._l(e.listHost,(function(e,t){return a("el-option",{key:t,attrs:{label:e.host_name,value:e.id+""}})})),1)],1),a("div",{staticClass:"measure-dorm-view"},[a("div",{staticClass:"measure-dorm-top"},[a("div",{staticClass:"measure-dorm-top-title"},[e._v("栏位*：")]),a("div",{staticClass:"measure-dorm-top-button",on:{click:function(t){return e.addDorm()}}},[e._v("新增栏位")])]),e._l(e.info.details,(function(t,s){return a("div",{key:s,staticClass:"measure-dorm_item"},[a("div",{staticClass:"measure-group1 measure-flex-col",staticStyle:{width:"240px"}},[a("el-input",{staticClass:"measure-word6",staticStyle:{width:"180px !important"},attrs:{placeholder:"请填写栏位名称",maxlength:"10"},on:{input:function(i){return e.setDorm("dormtitle-"+s,t.dorm_content)}},model:{value:t.dorm_content,callback:function(i){e.$set(t,"dorm_content",i)},expression:"item.dorm_content"}})],1),a("div",{staticClass:"measure-group2 measure-flex-col",staticStyle:{width:"120px"}},[a("el-input",{staticClass:"measure-txt2",staticStyle:{width:"80px !important"},attrs:{placeholder:"栏号",maxlength:"3"},on:{input:function(i){return e.setDormStart("dormstart-"+s,t.dorm_start)}},model:{value:t.dorm_start,callback:function(i){e.$set(t,"dorm_start",i)},expression:"item.dorm_start"}})],1),a("div",[e._v("—")]),a("div",{staticClass:"measure-group2 measure-flex-col",staticStyle:{width:"120px"}},[a("el-input",{staticClass:"measure-txt2",staticStyle:{width:"80px !important"},attrs:{placeholder:"栏号",maxlength:"3"},on:{input:function(i){return e.setDormEnd("dormend-"+s,t.dorm_end)}},model:{value:t.dorm_end,callback:function(i){e.$set(t,"dorm_end",i)},expression:"item.dorm_end"}})],1),a("div",{staticClass:"measure-group2 measure-flex-col",staticStyle:{background:"#FFFFFF","padding-left":"0px",width:"50px","flex-direction":"row","justify-content":"center",display:"flex","align-items":"center"},on:{click:function(t){return e.delFood(s)}}},[a("img",{staticClass:"measure-closeView",attrs:{src:i("7abb")}})])])}))],2)],1),a("div",{staticClass:"measure-from-footer"},[a("el-button",{on:{click:function(t){return e.resetDoorForm("formDoorObj")}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onDoorSubmit("formDoorObj")}}},[e._v("保存")])],1)])],1),a("el-dialog",{attrs:{title:"编辑",visible:e.editDoorDialog,width:"40%",center:"","close-on-click-modal":!1,"show-close":!1},on:{"update:visible":function(t){e.editDoorDialog=t}}},[a("el-form",{ref:"formEditDoorObj",attrs:{rules:e.rulesEditDoor,model:e.formEditDoorObj,"label-width":"160px"}},[a("div",{staticClass:"measure-flex-center"},[a("el-form-item",{attrs:{label:"饲养员*：",prop:"editdoor_userid"}},[a("el-select",{staticStyle:{width:"260px"},attrs:{placeholder:"请选择饲养员"},model:{value:e.formEditDoorObj.editdoor_userid,callback:function(t){e.$set(e.formEditDoorObj,"editdoor_userid",t)},expression:"formEditDoorObj.editdoor_userid"}},e._l(e.listEmployees,(function(e,t){return a("el-option",{key:t,attrs:{label:e.real_name,value:e.id+""}})})),1)],1),a("el-form-item",{attrs:{label:"工作站*：",prop:"editdoor_hostid"}},[a("el-select",{staticStyle:{width:"260px"},attrs:{filterable:"",clearable:"",placeholder:"请选择工作站"},model:{value:e.formEditDoorObj.editdoor_hostid,callback:function(t){e.$set(e.formEditDoorObj,"editdoor_hostid",t)},expression:"formEditDoorObj.editdoor_hostid"}},e._l(e.listHost,(function(e,t){return a("el-option",{key:t,attrs:{label:e.host_name,value:e.id+""}})})),1)],1)],1),a("div",{staticClass:"measure-from-footer"},[a("el-button",{on:{click:function(t){return e.resetEditDoorForm("formEditDoorObj")}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onEditDoorSubmit("formEditDoorObj")}}},[e._v("保存")])],1)])],1),a("el-dialog",{attrs:{title:"新增入栏",visible:e.showLairageDialog,width:"40%",center:"","close-on-click-modal":!1,"show-close":!1},on:{"update:visible":function(t){e.showLairageDialog=t}}},[a("el-form",{ref:"formLairageObj",attrs:{rules:e.rulesLairage,model:e.formLairageObj,"label-width":"160px"}},[a("div",{staticClass:"measure-flex-center"},[a("el-form-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"耳标ID*："}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入耳标ID"},model:{value:e.lairage_sn,callback:function(t){e.lairage_sn=t},expression:"lairage_sn"}}),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.addList()}}},[e._v("查询")])],1),e.label_id_list.length>0?a("div",{staticStyle:{"margin-top":"0px","overflow-y":"scroll","max-height":"200px"}},e._l(e.label_id_list,(function(t,s){return a("div",{key:s,staticClass:"new_label_id_item"},[a("div",{staticClass:"new_label_id_item_1"},[a("div",{staticClass:"font_label",staticStyle:{width:"40px"}},[e._v(e._s(s+1))]),a("div",{staticClass:"font_label",staticStyle:{width:"120px",margin:"0px 10px"}},[e._v(e._s(t.id))]),a("div",{staticClass:"font_label",staticStyle:{width:"130px"}},[e._v(e._s(t.source_id))])]),a("div",{staticClass:"new_label_id_item_1",staticStyle:{"margin-left":"20px"}},[a("img",{staticClass:"measure-closeView",attrs:{src:i("7abb")},on:{click:function(t){return e.delLabelId(s)}}})])])})),0):e._e(),a("el-form-item",{staticStyle:{"margin-top":"10px"},attrs:{label:"场区*：",prop:"lairage_sitearea"}},[a("el-select",{staticStyle:{width:"260px"},attrs:{filterable:"",clearable:"",placeholder:"请选择场区"},on:{change:e.handlerChangeLairageSitearea},model:{value:e.formLairageObj.lairage_sitearea,callback:function(t){e.$set(e.formLairageObj,"lairage_sitearea",t)},expression:"formLairageObj.lairage_sitearea"}},e._l(e.listPigSitearea,(function(e,t){return a("el-option",{key:t,attrs:{label:e.location_descr,value:e.id+""}})})),1)],1),a("el-form-item",{attrs:{label:"栋舍*：",prop:"lairage_door"}},[a("el-select",{staticStyle:{width:"260px"},attrs:{filterable:"",clearable:"",placeholder:"请选择栋舍"},on:{change:e.handlerChangeLairageDoor},model:{value:e.formLairageObj.lairage_door,callback:function(t){e.$set(e.formLairageObj,"lairage_door",t)},expression:"formLairageObj.lairage_door"}},e._l(e.piggeryList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.location_descr,value:e.id+""}})})),1)],1),a("el-form-item",{attrs:{label:"栏位*：",prop:"lairage_dorm"}},[a("el-select",{staticStyle:{width:"260px"},attrs:{filterable:"",clearable:"",placeholder:"请选择栏位"},model:{value:e.formLairageObj.lairage_dorm,callback:function(t){e.$set(e.formLairageObj,"lairage_dorm",t)},expression:"formLairageObj.lairage_dorm"}},e._l(e.styByPiggeryList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.dorm,value:e.dormid+""}})})),1)],1),a("el-form-item",{attrs:{label:"日期*："}},[a("el-date-picker",{staticStyle:{width:"260px"},attrs:{type:"date",clearable:!1,placeholder:"请选择日期时间"},model:{value:e.lairage_time,callback:function(t){e.lairage_time=t},expression:"lairage_time"}})],1)],1),a("div",{staticClass:"measure-from-footer"},[a("el-button",{on:{click:function(t){return e.resetLairageForm("formLairageObj")}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onLairageSubmit("formLairageObj")}}},[e._v("保存")])],1)])],1),a("el-dialog",{attrs:{title:"新增转栏",visible:e.showSuchDialog,width:"40%",center:"","close-on-click-modal":!1,"show-close":!1},on:{"update:visible":function(t){e.showSuchDialog=t}}},[a("el-form",{ref:"formSuchObj",attrs:{rules:e.rulesSuch,model:e.formSuchObj,"label-width":"160px"}},[a("div",{staticClass:"measure-flex-center"},[a("el-form-item",{attrs:{label:"耳号*："}},[a("el-input",{staticStyle:{width:"260px"},attrs:{placeholder:"请输入耳号"},model:{value:e.such_sn,callback:function(t){e.such_sn=t},expression:"such_sn"}})],1),a("el-form-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"耳标ID*："}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入耳标ID"},model:{value:e.such_lableid,callback:function(t){e.such_lableid=t},expression:"such_lableid"}}),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.addSuchList()}}},[e._v("查询")])],1),e.suchlabel_id_list.length>0?a("div",{staticStyle:{"margin-top":"0px","overflow-y":"scroll","max-height":"200px"}},e._l(e.suchlabel_id_list,(function(t,s){return a("div",{key:s,staticClass:"new_label_id_item"},[a("div",{staticClass:"new_label_id_item_1"},[a("div",{staticClass:"font_label",staticStyle:{width:"40px"}},[e._v(e._s(s+1))]),a("div",{staticClass:"font_label",staticStyle:{width:"90px","margin-right":"10px"}},[e._v(e._s(t.label_id))]),a("div",{staticClass:"font_label",staticStyle:{width:"120px","margin-right":"10px"}},[e._v(e._s(t.source_label))]),a("div",{staticClass:"font_label",staticStyle:{width:"130px"}},[e._v(e._s(t.Sitearea)+e._s(t.door)+e._s(t.dorm))])]),a("div",{staticClass:"new_label_id_item_1",staticStyle:{"margin-left":"20px"}},[a("img",{staticClass:"measure-closeView",attrs:{src:i("7abb")},on:{click:function(t){return e.delSuchLabelId(s)}}})])])})),0):e._e(),a("el-form-item",{staticStyle:{"margin-top":"10px"},attrs:{label:"场区*：",prop:"such_sitearea"}},[a("el-select",{staticStyle:{width:"260px"},attrs:{filterable:"",clearable:"",placeholder:"请选择场区"},on:{change:e.handlerChangeSuchSitearea},model:{value:e.formSuchObj.such_sitearea,callback:function(t){e.$set(e.formSuchObj,"such_sitearea",t)},expression:"formSuchObj.such_sitearea"}},e._l(e.listSuchPigSitearea,(function(e,t){return a("el-option",{key:t,attrs:{label:e.location_descr,value:e.id+""}})})),1)],1),a("el-form-item",{attrs:{label:"栋舍*：",prop:"such_door"}},[a("el-select",{staticStyle:{width:"260px"},attrs:{filterable:"",clearable:"",placeholder:"请选择栋舍"},on:{change:e.handlerChangeSuchDoor},model:{value:e.formSuchObj.such_door,callback:function(t){e.$set(e.formSuchObj,"such_door",t)},expression:"formSuchObj.such_door"}},e._l(e.piggerySuchList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.location_descr,value:e.id+""}})})),1)],1),a("el-form-item",{attrs:{label:"栏位*：",prop:"such_dorm"}},[a("el-select",{staticStyle:{width:"260px"},attrs:{filterable:"",clearable:"",placeholder:"请选择栏位"},model:{value:e.formSuchObj.such_dorm,callback:function(t){e.$set(e.formSuchObj,"such_dorm",t)},expression:"formSuchObj.such_dorm"}},e._l(e.stySuchByPiggeryList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.dorm,value:e.dormid+""}})})),1)],1),a("el-form-item",{attrs:{label:"日期*："}},[a("el-date-picker",{staticStyle:{width:"260px"},attrs:{type:"date",clearable:!1,placeholder:"请选择日期时间"},model:{value:e.such_time,callback:function(t){e.such_time=t},expression:"such_time"}})],1)],1),a("div",{staticClass:"measure-from-footer"},[a("el-button",{on:{click:function(t){return e.resetSuchForm("formSuchObj")}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSuchSubmit("formSuchObj")}}},[e._v("保存")])],1)])],1),a("el-dialog",{attrs:{title:"转栏记录",visible:e.showColumnDialog,width:"810px",center:""},on:{"update:visible":function(t){e.showColumnDialog=t}}},[a("div",{staticClass:"measure-flex-center",staticStyle:{"margin-left":"0px",height:"450px"}},[a("div",{staticStyle:{"margin-bottom":"10px","font-size":"18px"}},[e._v("耳号: "+e._s(e.pigInfoObj.source_label))]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.listColumn,stripe:"",border:"","row-style":e.iRowStyle,"cell-style":e.iCellStyle,"header-row-style":e.iHeaderRowStyle,"header-cell-style":e.iHeaderCellStyle,height:"430"}},[a("el-table-column",{attrs:{prop:"create_time",width:"180",label:"日期",align:"center"}}),a("el-table-column",{attrs:{prop:"Sitearea",width:"160",label:"场区",align:"center"}}),a("el-table-column",{attrs:{prop:"door",width:"160",label:"栋舍",align:"center"}}),a("el-table-column",{attrs:{prop:"dorm",width:"160",label:"栏位",align:"center"}}),a("el-table-column",{attrs:{prop:"status || operation",width:"99",label:"周转信息",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.status?a("p",[e._v("离场")]):e._e(),"1"==t.row.operation?a("p",[e._v("入栏")]):e._e(),"2"==t.row.operation?a("p",[e._v("转栏")]):e._e()]}}])})],1),a("div",{staticClass:"block",staticStyle:{"margin-top":"0px"}},[a("el-pagination",{staticStyle:{padding:"30px 0 0 0","text-align":"center"},attrs:{"current-page":e.currentColumn,"page-size":e.limitColumn,total:e.totalColumn,layout:"total, sizes, prev, pager, next","page-sizes":[10,20,30,40]},on:{"current-change":e.getColumntransferrecord,"size-change":e.handleColumnSizeChange}})],1)],1)]),a("el-dialog",{attrs:{title:"新增离场",visible:e.showOnlineDialog,width:"40%",center:"","close-on-click-modal":!1,"show-close":!1},on:{"update:visible":function(t){e.showOnlineDialog=t}}},[a("el-form",{ref:"formOnlineObj",attrs:{rules:e.rulesOnline,model:e.formOnlineObj,"label-width":"160px"}},[a("div",{staticClass:"measure-flex-center"},[a("el-form-item",{attrs:{label:"耳号*：",prop:"online_sn"}},[a("el-input",{staticStyle:{width:"260px"},attrs:{placeholder:"请输入耳号"},model:{value:e.formOnlineObj.online_sn,callback:function(t){e.$set(e.formOnlineObj,"online_sn",t)},expression:"formOnlineObj.online_sn"}})],1),a("el-form-item",{attrs:{label:"耳标ID*：",prop:"online_lableid"}},[a("el-input",{staticStyle:{width:"260px"},attrs:{placeholder:"请输入耳标ID"},model:{value:e.formOnlineObj.online_lableid,callback:function(t){e.$set(e.formOnlineObj,"online_lableid",t)},expression:"formOnlineObj.online_lableid"}})],1),a("el-form-item",{attrs:{label:"离场原因*：",prop:"online_remark"}},[a("el-select",{staticStyle:{width:"260px"},attrs:{filterable:"",clearable:"",placeholder:"请选择离场原因"},model:{value:e.formOnlineObj.online_remark,callback:function(t){e.$set(e.formOnlineObj,"online_remark",t)},expression:"formOnlineObj.online_remark"}},e._l(e.onlineRemarkList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.title,value:e.id+""}})})),1)],1)],1),a("div",{staticClass:"measure-from-footer"},[a("el-button",{on:{click:function(t){return e.resetOnlineForm("formOnlineObj")}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onOnlineSubmit("formOnlineObj")}}},[e._v("保存")])],1)])],1)],1)},s=[],r=i("2909"),l=(i("99af"),i("ac1f"),i("5319"),i("a434"),i("d3b7"),i("6062"),i("3ca3"),i("ddb0"),i("a15b"),i("bc3a")),o=i.n(l),n=i("c1df"),c=i.n(n),d=i("313e"),u=i("fd03"),m=i("5c96"),g=i("4328"),h=i("fa7d");function p(e,t,i){this.dorm_content=e,this.dorm_start=t,this.dorm_end=i}var b={data:function(){return{userInfo:JSON.parse(window.localStorage.getItem("userInfo")),listDisplaysum:[],labelcount:0,cameracount:0,currentDate:new Date,cun:0,feversum:0,abnormalsum:0,source_label2:"",sitearea2:"",door2:"",dorm2:"",status2:"",current2:1,limit2:10,total2:0,listPigHistory:[],listPigSitearea:[],listAllPiggery:[],listStyByPiggery:[],logisticsDialog:!1,pigInfoObj:"",timepiglist:[],timeEchartslist:[(new Date).getTime(),(new Date).getTime()],temp_date_type:"0",tempDayType:0,currentLabel:1,limitLabel:10,totalLabel:0,listLabelTemActInfo:[],chartTempDom:"",myChartTemp:"",optionTemp:"",chartActDom:"",myChartAct:"",optionAct:"",source_label3:"",breed3:"",presence_situation3:"",listBreed:[],listPig:[],currentPig:1,limitPig:10,totalPig:0,showDisDialog:!1,formDisObj:{dis_sn:"",dis_address:"",dis_gender:"",dis_time:""},dis_current_time:(new Date).getTime(),rulesDis:{dis_sn:[{required:!0,message:"请输入耳号",trigger:"blur"}],dis_address:[{required:!0,message:"请输入电子耳标",trigger:"blur"}],dis_gender:[{required:!0,message:"请选择性别",trigger:"change"}],dis_time:[{required:!0,message:"请选择品种",trigger:"change"}]},idDis:"",isDisEdit:1,door_name:"",listEmployees:[],listHost:[],listDoor:[],currentDoor:1,limitDoor:10,totalDoor:0,showDoorDialog:!1,formDoorObj:{door_sitearea:"",door_doorname:"",door_userid:"",door_hostid:""},rulesDoor:{door_sitearea:[{required:!0,message:"请输入场区名称",trigger:"blur"}],door_doorname:[{required:!0,message:"请输入栋舍名称",trigger:"blur"}],door_userid:[{required:!0,message:"请选择饲养员",trigger:"change"}],door_hostid:[{required:!0,message:"请选择工作站",trigger:"change"}]},idDoor:"",isDoorEdit:1,info:{details:[{dorm_content:"",dorm_start:"",dorm_end:""}]},siteareaid:"",editDoorDialog:!1,editDoorId:"",editOldHostId:"",editSiteareaId:"",formEditDoorObj:{editdoor_userid:"",editdoor_hostid:""},rulesEditDoor:{editdoor_userid:[{required:!0,message:"请选择饲养员",trigger:"change"}],editdoor_hostid:[{required:!0,message:"请选择工作站",trigger:"change"}]},currentLairaging:1,limitLairaging:10,totalLairaging:0,listLairaging:[],showLairageDialog:!1,label_id_list:[],lairage_sn:"",formLairageObj:{lairage_sitearea:"",lairage_door:"",lairage_dorm:""},lairage_time:(new Date).getTime(),rulesLairage:{lairage_sitearea:[{required:!0,message:"请选择场区",trigger:"change"}],lairage_door:[{required:!0,message:"请选择栋舍",trigger:"change"}],lairage_dorm:[{required:!0,message:"请选择栏位",trigger:"change"}]},piggeryList:[],styByPiggeryList:[],currentJump:1,limitJump:10,totalJump:0,listJump:[],jump_source_label:"",timeJumplist:[],showSuchDialog:!1,suchlabel_id_list:[],such_sn:"",such_lableid:"",formSuchObj:{such_sitearea:"",such_door:"",such_dorm:""},such_time:(new Date).getTime(),rulesSuch:{such_sitearea:[{required:!0,message:"请选择场区",trigger:"change"}],such_door:[{required:!0,message:"请选择栋舍",trigger:"change"}],such_dorm:[{required:!0,message:"请选择栏位",trigger:"change"}]},listSuchPigSitearea:[],piggerySuchList:[],stySuchByPiggeryList:[],deleteOzoneDialog:!1,showColumnDialog:!1,currentColumn:1,limitColumn:10,totalColumn:0,listColumn:[],currentOnline:1,limitOnline:10,totalOnline:0,listOnline:[],showOnlineDialog:!1,onlineRemarkList:[{id:"2",title:"出栏"},{id:"3",title:"死亡"}],formOnlineObj:{online_sn:"",online_lableid:"",online_remark:""},online_time:(new Date).getTime(),rulesOnline:{online_sn:[{required:!0,message:"请输入耳号",trigger:"blur"}],online_lableid:[{required:!0,message:"请输入耳标ID",trigger:"blur"}],online_remark:[{required:!0,message:"请选择离场原因",trigger:"change"}]},numberType:1}},created:function(){this.$route&&this.$route.query&&this.$route.query.np&&(this.numberType=this.$route.query.np,1==this.numberType?this.getdisplaysum():2==this.numberType&&(this.status2="4",this.limit2=10,this.current2=1,this.getPigHistorylist(),this.getPigSitearea(),this.getAllPiggery()))},mounted:function(){this.getdisplaysum()},methods:{iRowStyle:function(e){e.row,e.rowIndex;return"height:35px"},iHeaderRowStyle:function(e){e.row,e.rowIndex;return"height:46px"},iCellStyle:function(e){e.row,e.column,e.rowIndex,e.columnIndex;return"padding:0px"},iHeaderCellStyle:function(e){e.row,e.column,e.rowIndex,e.columnIndex;return"padding:0px"},iRowStyle1:function(e){e.row,e.rowIndex;return"height:35px"},iHeaderRowStyle1:function(e){e.row,e.rowIndex;return"height:46px"},iCellStyle1:function(e){e.row,e.column,e.rowIndex,e.columnIndex;return"padding:6px"},iHeaderCellStyle1:function(e){e.row,e.column,e.rowIndex,e.columnIndex;return"padding:0px"},iRowStyle2:function(e){e.row,e.rowIndex;return"height:35px"},iHeaderRowStyle2:function(e){e.row,e.rowIndex;return"height:46px"},iCellStyle2:function(e){e.row,e.column,e.rowIndex,e.columnIndex;return"padding:0px;height:45px;"},iHeaderCellStyle2:function(e){e.row,e.column,e.rowIndex,e.columnIndex;return"padding:0px"},dateTimeFormat:function(e){return void 0==e?"":c()(e).format("YYYY-MM-DD HH:mm:ss")},dateFormat:function(e){return void 0==e?"":c()(e).format("YYYY-MM-DD")},isEmpty:function(e){return null==e||void 0==e||""==e},getdisplaysum:function(){var e=this;Object(u["rb"])({pig_farm_id:this.userInfo.farm_id}).then((function(t){t.data.success?(e.listDisplaysum=t.data.data,e.labelcount=t.data.labelcount,e.cameracount=t.data.cameracount):Object(m["Message"])({type:"warning",message:t.data.msg,showClose:!0,duration:3e3})}))},getPigSitearea:function(){var e=this;Object(u["hb"])({pig_farm_id:this.userInfo.farm_id}).then((function(t){t.data.success?e.listPigSitearea=t.data.msg:Object(m["Message"])({type:"warning",message:t.data.msg,showClose:!0,duration:3e3})}))},handlerChangeSitearea:function(){this.getAllPiggery()},getAllPiggery:function(){var e=this;Object(u["z"])({pig_farm_id:this.userInfo.farm_id,id:this.sitearea2}).then((function(t){t.data.success?e.listAllPiggery=t.data.msg:Object(m["Message"])({type:"warning",message:t.data.msg,showClose:!0,duration:3e3})}))},getPigHistorylist:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.current2=t,Object(u["fb"])({pig_farm_id:this.userInfo.farm_id,page:this.current2,limit:this.limit2,source_label:this.source_label2,Sitearea:this.sitearea2,door:this.door2,dorm:this.dorm2,status:this.status2}).then((function(t){t.data.success?(e.listPigHistory=t.data.data,e.total2=parseInt(t.data.count),e.cun=t.data.labelsum,e.feversum=t.data.feversum,e.abnormalsum=t.data.outlinesum):Object(m["Message"])({type:"warning",message:t.data.msg,showClose:!0,duration:3e3})}))},handlePigHistorySizeChange:function(e){this.limit2=e,this.getPigHistorylist()},logisticsClick:function(e){var t=this;this.logisticsDialog=!0,this.pigInfoObj=e,this.timepiglist=[],this.timeEchartslist=[(new Date).getTime(),(new Date).getTime()],this.temp_date_type="0",this.tempDayType=0,this.getLabelTemActInfo(),this.$nextTick((function(){t.chartTempDom=document.getElementById("echarttemp"),t.myChartTemp=d["a"](t.chartTempDom),t.chartActDom=document.getElementById("echartact"),t.myChartAct=d["a"](t.chartActDom),t.getShowLabelSumfilebyid()}))},handlerTempDateType:function(e){if(this.temp_date_type=e+"",this.tempDayType=0,"0"==e)this.timeEchartslist=[(new Date).getTime(),(new Date).getTime()],this.getShowLabelSumfilebyid();else if("1"==e)this.timeEchartslist=[(new Date).getTime()-5184e5,(new Date).getTime()],this.getShowLabelSumfilebyid();else if("2"==e){var t=Object(h["b"])(Object(h["c"])(new Date),5);this.timeEchartslist=[t,(new Date).getTime()],this.getShowLabelSumfilebyid()}},handlerTempDayType:function(e){this.tempDayType=e,1==e?(this.timeEchartslist=[(new Date).getTime()-864e5,(new Date).getTime()],this.getShowLabelSumfilebyid()):2==e?(this.timeEchartslist=[(new Date).getTime()-1728e5,(new Date).getTime()],this.getShowLabelSumfilebyid()):3==e&&(this.timeEchartslist=[(new Date).getTime()-2592e5,(new Date).getTime()],this.getShowLabelSumfilebyid())},getShowLabelSumfilebyid:function(){var e=this;Object(u["lb"])({pig_farm_id:this.userInfo.farm_id,serial:this.pigInfoObj.serial,start_time:null!=this.timeEchartslist&&this.timeEchartslist.length>0?this.dateFormat(this.timeEchartslist[0]):"",end_time:null!=this.timeEchartslist&&this.timeEchartslist.length>0?this.dateFormat(this.timeEchartslist[1]):"",type:"2"==this.temp_date_type?"month":"day"}).then((function(t){if(t.data.success){var i=t.data.xdata,a=[],s=t.data.ydata||[],r=[],l=[],o=[],n=[],c=["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452"];if("2"==e.temp_date_type)for(var d=0;d<s.length;d++){for(var u=s[d].date,g=u.substring(5,7),h=e.pigInfoObj.check_in_time.substring(0,7),p=e.pigInfoObj.check_in_time.substring(8,10),b=s[d].temp,_=0;_<b.length;_++)if(b[_]>0);else{var f=new Date(u),y=new Date(h);f.getTime()>y.getTime()?b[_]=null:f.getTime()==y.getTime()?b[_]=_<p?"-":null:b[_]="-"}var v=b;v=e.processing_breakpoint_data(v,"temp");var w=c[s.length-1-d],O={name:g+"月温度",smooth:!0,type:"line",data:v,color:w};for(var S in r.push(O),o=o.concat(b),o)o[S]>0&&n.push(o[S]);var D={name:g+"月活动量",smooth:!0,type:"line",data:s[d].act,color:w};l.push(D)}else for(var j=0;j<s.length;j++){for(var x=s[j].date,C=x.substring(5,7),k=x.substring(8,10),L=e.pigInfoObj.check_in_time.substring(0,10),I=e.pigInfoObj.check_in_time.substring(11,13),T=s[j].temp,z=0;z<T.length;z++)if(T[z]>0);else{var P=new Date(x),E=new Date(L);P.getTime()>E.getTime()?T[z]=null:P.getTime()==E.getTime()?T[z]=z<I?"-":null:T[z]="-"}var M=T;M=e.processing_breakpoint_data(M,"temp");var H=c[s.length-1-j],F={name:C+"/"+k+"温度",smooth:!0,type:"line",data:M,color:H};for(var J in r.push(F),o=o.concat(T),o)o[J]>0&&n.push(o[J]);var $={name:C+"/"+k+"活动量",smooth:!0,type:"line",data:s[j].act,color:H};l.push($)}var A={show:!0,interval:2,rotate:40};"2"==e.temp_date_type||(i=["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"]),e.chartInitTemp(i,a,A,r,n),e.chartInitAct(i,a,A,l)}else Object(m["Message"])({type:"warning",message:t.data.msg,showClose:!0,duration:3e3})}))},chartInitTemp:function(e,t,i,a,s){var l=Math.min.apply(Math,Object(r["a"])(s)),o=Math.max.apply(Math,Object(r["a"])(s)),n={title:{show:!1},tooltip:{show:!0,trigger:"axis"},legend:{show:!0},toolbox:{show:!1,orient:"vertical",left:"right",top:"center",feature:{mark:{show:!0},magicType:{show:!0,type:["line","bar","stack"]},restore:{show:!0},saveAsImage:{show:!1}}},grid:{containLabel:!0,top:60,bottom:20},xAxis:{type:"category",boundaryGap:!0,data:e,axisLabel:i,alignWithLabel:!0},yAxis:{name:"",x:"center",type:"value",splitLine:{lineStyle:{type:"dashed"}},minInterval:1,min:l,max:o},series:a};this.myChartTemp.setOption(n)},chartInitAct:function(e,t,i,a){var s={show:!0,formatter:function(e){var t="";return t=0==e?"0":1==e?"低":2==e?"中":3==e?"高":"未知",t}},r={title:{},tooltip:{show:!0,trigger:"axis"},legend:{show:!0},toolbox:{show:!1,orient:"vertical",left:"right",top:"center",feature:{mark:{show:!0},magicType:{show:!0,type:["line","bar","stack"]},restore:{show:!0},saveAsImage:{show:!1}}},grid:{containLabel:!0,top:60,bottom:20},xAxis:{type:"category",boundaryGap:!0,data:e,axisLabel:i,alignWithLabel:!0},yAxis:{name:"",x:"center",type:"value",splitLine:{lineStyle:{type:"dashed"}},min:0,max:3,minInterval:1,axisLabel:s},series:a};this.myChartAct.setOption(r)},processing_breakpoint_data:function(e,t){for(var i=null,a=[],s=0;s<e.length;s++){var r=e[s];if(null==r||"null"==r)a.push(s);else if(0==a.length)r;else{if(i=r,"temp"==t){var l=i;for(var o in a){var n=a[o];e[n]=l}}else if("act"==t)for(var c in a){var d=a[c];e[d]=0}a=[]}}return e},handlerReturn:function(){this.logisticsDialog=!1,this.pigInfoObj=""},exportPigHistoryData:function(){var e={pig_farm_id:this.userInfo.farm_id,page:this.current2,limit:this.limit2,source_label:this.source_label2,Sitearea:this.sitearea2,door:this.door2,dorm:this.dorm2,status:this.status2};window.open("https://monitor.coyotebio-lab.com:8443/wisdomLivestockWH/PCpigManagement/ExportPigHistoryList.hn?".concat(Object(g["stringify"])(e)))},getLabelTemActInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.currentLabel=t,Object(u["W"])({start_time:null!=this.timepiglist&&this.timepiglist.length>0?this.dateFormat(this.timepiglist[0]):"",end_time:null!=this.timepiglist&&this.timepiglist.length>0?this.dateFormat(this.timepiglist[1]):"",page:this.currentLabel,limit:this.limitLabel,serial:this.pigInfoObj.serial}).then((function(t){t.data.success?(e.listLabelTemActInfo=t.data.data,e.totalLabel=parseInt(t.data.count)):Object(m["Message"])({type:"warning",message:t.data.msg,showClose:!0,duration:3e3})}))},handleLabelSizeChange:function(e){this.limitLabel=e,this.getLabelTemActInfo()},exportPigDetailsData:function(){var e={start_time:null!=this.timepiglist&&this.timepiglist.length>0?this.dateFormat(this.timepiglist[0]):"",end_time:null!=this.timepiglist&&this.timepiglist.length>0?this.dateFormat(this.timepiglist[1]):"",serial:this.pigInfoObj.serial};window.open("https://monitor.coyotebio-lab.com:8443/wisdomLivestockWH/PCpigManagement/ExportLabelInfo.hn?".concat(Object(g["stringify"])(e)))},getBreedlist:function(){var e=this;Object(u["D"])({pig_farm_id:this.userInfo.farm_id}).then((function(t){t.data.success?e.listBreed=t.data.data:Object(m["Message"])({type:"warning",message:t.data.msg,showClose:!0,duration:3e3})}))},getpiglist:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.currentPig=t,Object(u["sb"])({pig_farm_id:this.userInfo.farm_id,page:this.currentPig,limit:this.limitPig,source_label:this.source_label3,breed:this.breed3,presenceStatus:this.presence_situation3}).then((function(t){t.data.success?(e.listPig=t.data.data,e.totalPig=parseInt(t.data.count)):Object(m["Message"])({type:"warning",message:t.data.msg,showClose:!0,duration:3e3})}))},handlePigSizeChange:function(e){this.limitPig=e,this.getpiglist()},addDis:function(){this.isDisEdit=1,this.dis_current_time=this.dateFormat((new Date).getTime()),this.showDisDialog=!0},handlerDisEdit:function(e){var t=this;this.isDisEdit=2,this.dis_current_time=this.dateFormat((new Date).getTime()),Object(u["eb"])({id:e}).then((function(e){if(e.data.success){t.showDisDialog=!0;var i=e.data.data;if(i&&i.length>0){var a=i[0];t.formDisObj.dis_sn=a.source_label,t.formDisObj.dis_address=a.label_id,t.formDisObj.dis_gender=3==a.label_type?"公猪":"母猪",t.formDisObj.dis_time=a.breed,t.idDis=a.id}}else Object(m["Message"])({type:"warning",message:e.data.msg,showClose:!0,duration:3e3})}))},resetDisForm:function(e){this.$refs[e].resetFields(),this.showDisDialog=!1,this.formDisObj.dis_sn="",this.formDisObj.dis_time="",this.formDisObj.dis_address="",this.formDisObj.dis_gender="",this.idDis=""},onDisSubmit:function(e){var t=this;this.$refs[e].validate((function(i){if(!i)return!1;if(2==t.isDisEdit){var a={pig_farm_id:t.userInfo.farm_id,id:t.idDis,source_label:t.formDisObj.dis_sn,label_id:t.formDisObj.dis_address,type:"母猪"==t.formDisObj.dis_gender?"1":"3",breed:t.formDisObj.dis_time,create_time:t.dis_current_time};Object(u["s"])(a).then((function(i){i.data.success?(Object(m["Message"])({type:"success",message:i.data.msg,showClose:!0,duration:3e3}),t.getpiglist(),t.$refs[e].resetFields(),t.showDisDialog=!1,t.formDisObj.dis_sn="",t.formDisObj.dis_time="",t.formDisObj.dis_address="",t.formDisObj.dis_gender="",t.idDis=""):Object(m["Message"])({type:"warning",message:i.data.msg,showClose:!0,duration:3e3})}))}else{var s={pig_farm_id:t.userInfo.farm_id,source_label:t.formDisObj.dis_sn,label_id:t.formDisObj.dis_address,type:"母猪"==t.formDisObj.dis_gender?"1":"3",breed:t.formDisObj.dis_time,create_time:t.dis_current_time};Object(u["f"])(s).then((function(i){i.data.success?(Object(m["Message"])({type:"success",message:i.data.msg,showClose:!0,duration:3e3}),t.getpiglist(),t.$refs[e].resetFields(),t.showDisDialog=!1,t.formDisObj.dis_sn="",t.formDisObj.dis_time="",t.formDisObj.dis_address="",t.formDisObj.dis_gender="",t.idDis=""):Object(m["Message"])({type:"warning",message:i.data.msg,showClose:!0,duration:3e3})}))}}))},getEmployeesLists:function(){var e=this;Object(u["J"])({pig_farm_id:this.userInfo.farm_id,page:1,limit:1e3,real_name:""}).then((function(t){t.data.success?e.listEmployees=t.data.info:Object(m["Message"])({type:"warning",message:t.data.msg,showClose:!0,duration:3e3})}))},getHostList:function(){var e=this;Object(u["S"])({pig_farm_id:this.userInfo.farm_id}).then((function(t){t.data.success?e.listHost=t.data.data:Object(m["Message"])({type:"warning",message:t.data.msg,showClose:!0,duration:3e3})}))},addDorm:function(){var e=this.info;e.details.push(new p("","","")),this.info=e},setDorm:function(e,t){var i=parseInt(e.replace("dormtitle-","")),a=t,s=this.info;s.details[i].dorm_content=a,this.info=s},setDormStart:function(e,t){var i=parseInt(e.replace("dormstart-","")),a=t,s=this.info;s.details[i].dorm_start=a,this.info=s},setDormEnd:function(e,t){var i=parseInt(e.replace("dormend-","")),a=t,s=this.info;s.details[i].dorm_end=a,this.info=s},delFood:function(e){var t=e,i=this,a=i.info;if(a&&a.details&&1==a.details.length)a.details[0].dorm_content="",a.details[0].dorm_start="",a.details[0].dorm_end="",this.info=a;else if(-1!=t){var s=t,r=i.info;r.details.splice(s,1),this.info=r}},getDoorlist:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.currentDoor=t,Object(u["I"])({pig_farm_id:this.userInfo.farm_id,page:this.currentDoor,limit:this.limitDoor,door:this.door_name}).then((function(t){t.data.success?(e.listDoor=t.data.data,e.totalDoor=parseInt(t.data.count)):Object(m["Message"])({type:"warning",message:t.data.msg,showClose:!0,duration:3e3})}))},handleDoorSizeChange:function(e){this.limitDoor=e,this.getDoorlist()},addDoor:function(){this.isDoorEdit=1,this.showDoorDialog=!0},handlerDoorEdit:function(e,t){this.isDoorEdit=2,this.showDoorDialog=!0,this.formDoorObj.door_sitearea=t,this.siteareaid=e},resetDoorForm:function(e){this.$refs[e].resetFields(),this.showDoorDialog=!1,this.formDoorObj.door_sitearea="",this.formDoorObj.door_doorname="",this.formDoorObj.door_userid="",this.formDoorObj.door_hostid="",this.info.details=[{dorm_content:"",dorm_start:"",dorm_end:""}],this.idDoor="",this.siteareaid=""},onDoorSubmit:function(e){var t=this;this.$refs[e].validate((function(i){if(!i)return!1;var a=t.info.details;if(1!=a.length||""!=a[0].dorm_content||""!=a[0].dorm_start||""!=a[0].dorm_end){for(var s=0;s<a.length;s++)""==a[s].dorm_content&&""==a[s].dorm_start&&(a.splice(s,1),s--);for(var l in a){if(""==a[l].dorm_content&&""!=a[l].dorm_start||""!=a[l].dorm_content&&""==a[l].dorm_start)return void Object(m["Message"])({type:"warning",message:"请填写栏位信息",showClose:!0,duration:3e3});if(""==a[l].dorm_end)return void Object(m["Message"])({type:"warning",message:"请填写栏位信息",showClose:!0,duration:3e3})}var n=[];for(var c in a){var d=parseInt(a[c].dorm_start),u=parseInt(a[c].dorm_end);if(!(d>0&&u>0&&d<=u))return void Object(m["Message"])({type:"warning",message:"栏号填写错误,请重新填写!",showClose:!0,duration:3e3});for(var g=d;g<=u;g++)n.push(a[c].dorm_content+g+"")}var h=Object(r["a"])(new Set(n)),p={pig_farm_id:t.userInfo.farm_id,door:t.formDoorObj.door_doorname,userId:t.formDoorObj.door_userid,hostid:t.formDoorObj.door_hostid,dorm:h.join(",")};2==t.isDoorEdit?(p.type="2",p.Sitearea=t.siteareaid):(p.type="1",p.Sitearea=t.formDoorObj.door_sitearea),o()({method:"post",url:"https://monitor.coyotebio-lab.com:8443/wisdomLivestockWH/PCPigstyManagement/addSitearea.hn",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},data:p}).then((function(i){i.data.success?(Object(m["Message"])({type:"success",message:i.data.msg,showClose:!0,duration:3e3}),t.getDoorlist(),t.$refs[e].resetFields(),t.showDoorDialog=!1,t.formDoorObj.door_sitearea="",t.formDoorObj.door_doorname="",t.formDoorObj.door_userid="",t.formDoorObj.door_hostid="",t.info.details=[{dorm_content:"",dorm_start:"",dorm_end:""}],t.idDoor="",t.siteareaid=""):Object(m["Message"])({type:"warning",message:i.data.msg,showClose:!0,duration:3e3})}))}else Object(m["Message"])({type:"warning",message:"请填写栏位信息",showClose:!0,duration:3e3})}))},handlerEdit:function(e,t,i,a){this.editDoorId=e,this.editSiteareaId=t,this.editOldHostId=i,this.formEditDoorObj.editdoor_hostid=i,this.formEditDoorObj.editdoor_userid=a,this.editDoorDialog=!0},resetEditDoorForm:function(e){this.$refs[e].resetFields(),this.editDoorDialog=!1,this.editDoorId="",this.editSiteareaId="",this.editOldHostId="",this.formEditDoorObj.editdoor_hostid="",this.formEditDoorObj.editdoor_userid=""},onEditDoorSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;Object(u["t"])({pig_farm_id:t.userInfo.farm_id,door:t.editDoorId,HostId:t.formEditDoorObj.editdoor_hostid,HostIdOld:t.editOldHostId,Sitearea:t.editSiteareaId,userId:t.formEditDoorObj.editdoor_userid}).then((function(e){e.data.success?(Object(m["Message"])({type:"success",message:e.data.msg,showClose:!0,duration:3e3}),t.getDoorlist(),t.editDoorDialog=!1,t.editDoorId="",t.editSiteareaId="",t.editOldHostId="",t.formEditDoorObj.editdoor_hostid="",t.formEditDoorObj.editdoor_userid=""):Object(m["Message"])({type:"warning",message:e.data.msg,showClose:!0,duration:3e3})}))}))},handleAvatarSuccess:function(e){console.log(e),e.success?(console.log(e),Object(m["Message"])({type:"success",message:e.msg,showClose:!0,duration:3e3}),this.currentLairaging=1,this.getLairagingList()):window.open(e.excelurl)},beforeAvatarUpload:function(){},getLairagingList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.currentLairaging=t,Object(u["X"])({pig_farm_id:this.userInfo.farm_id,page:this.currentLairaging,limit:this.limitLairaging}).then((function(t){t.data.success?(e.listLairaging=t.data.data,e.totalLairaging=parseInt(t.data.count)):Object(m["Message"])({type:"warning",message:t.data.msg,showClose:!0,duration:3e3})}))},handleLairagingSizeChange:function(e){this.limitLairaging=e,this.getLairagingList()},addLairage:function(){this.lairage_time=this.dateFormat((new Date).getTime()),this.showLairageDialog=!0,this.getPigSitearea()},handlerChangeLairageSitearea:function(){this.getPiggerybyid(),this.formLairageObj.lairage_door="",this.formLairageObj.lairage_dorm="",this.piggeryList=[],this.styByPiggeryList=[]},getPiggerybyid:function(){var e=this;Object(u["jb"])({SiteAreaid:this.formLairageObj.lairage_sitearea}).then((function(t){t.data.success?e.piggeryList=t.data.msg:Object(m["Message"])({type:"warning",message:t.data.msg,showClose:!0,duration:3e3})}))},handlerChangeLairageDoor:function(){this.getStyByPiggery(),this.formLairageObj.lairage_dorm="",this.styByPiggeryList=[]},getStyByPiggery:function(){var e=this;Object(u["nb"])({pig_farm_id:this.userInfo.farm_id,doorid:this.formLairageObj.lairage_door}).then((function(t){t.data.success?e.styByPiggeryList=t.data.msg:Object(m["Message"])({type:"warning",message:t.data.msg,showClose:!0,duration:3e3})}))},addList:function(){var e=this.label_id_list,t=this.lairage_sn;t?8!=t.length?Object(m["Message"])({type:"warning",message:"耳环编号位数不对",showClose:!0,duration:3e3}):Object(h["a"])(e,"id",t)?Object(m["Message"])({type:"warning",message:"请勿重复录入",showClose:!0,duration:3e3}):this.getSourceLabelByLabelId(t,2):Object(m["Message"])({type:"warning",message:"请输入耳环编号",showClose:!0,duration:3e3})},delLabelId:function(e){var t=e,i=this.label_id_list;i.splice(t,1),this.label_id_list=i},getSourceLabelByLabelId:function(e,t){var i=this;Object(u["mb"])({pig_farm_id:this.userInfo.farm_id,label_id:e}).then((function(a){if(a.data.success){var s,r=i.label_id_list,l=a.data.data;s=l&&l.length>0?l[0].source_label:"";var o={id:e,source_id:s,time:i.dateTimeFormat(new Date)};r.push(o),i.label_id_list=r,2==t&&(i.lairage_sn="")}else Object(m["Message"])({type:"warning",message:a.data.msg,showClose:!0,duration:3e3})}))},resetLairageForm:function(e){this.$refs[e].resetFields(),this.showLairageDialog=!1,this.label_id_list=[],this.lairage_sn="",this.formLairageObj.lairage_sitearea="",this.formLairageObj.lairage_door="",this.formLairageObj.lairage_dorm=""},onLairageSubmit:function(e){var t=this,i=this.label_id_list;0==i.length?Object(m["Message"])({type:"warning",message:"暂无任何数据，请手动输入！",showClose:!0,duration:3e3}):this.$refs[e].validate((function(a){if(!a)return!1;var s=t.dateTimeFormat((new Date).getTime());s=s.substring(11,19);var r={sty_number:t.formLairageObj.lairage_dorm,label_ids:JSON.stringify(i),user_serial:t.userInfo.userId,pig_type:0,checkinTime:t.dateFormat(t.lairage_time)+" "+s};console.log("----\x3e:",r),Object(u["vb"])(r).then((function(i){i.data.success?(Object(m["Message"])({type:"success",message:i.data.msg,showClose:!0,duration:3e3}),t.getLairagingList(),t.$refs[e].resetFields(),t.showLairageDialog=!1,t.label_id_list=[],t.lairage_sn="",t.formLairageObj.lairage_sitearea="",t.formLairageObj.lairage_door="",t.formLairageObj.lairage_dorm=""):Object(m["Message"])({type:"warning",message:i.data.msg,showClose:!0,duration:3e3})}))}))},handleJumpSuccess:function(e){console.log(e),e.success?(console.log(e),Object(m["Message"])({type:"success",message:e.msg,showClose:!0,duration:3e3}),this.currentJump=1,this.getJumpList()):window.open(e.excelurl)},beforeJumpUpload:function(){},getJumpList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.currentJump=t,Object(u["V"])({pig_farm_id:this.userInfo.farm_id,page:this.currentJump,limit:this.limitJump,start_time:null!=this.timeJumplist&&this.timeJumplist.length>0?this.dateFormat(this.timeJumplist[0]):"",end_time:null!=this.timeJumplist&&this.timeJumplist.length>0?this.dateFormat(this.timeJumplist[1]):"",source_label:this.jump_source_label}).then((function(t){t.data.success?(e.listJump=t.data.data,e.totalJump=parseInt(t.data.count)):Object(m["Message"])({type:"warning",message:t.data.msg,showClose:!0,duration:3e3})}))},handleJumpSizeChange:function(e){this.limitJump=e,this.getJumpList()},addSuch:function(){this.such_time=this.dateFormat((new Date).getTime()),this.showSuchDialog=!0,this.getSuchPigSitearea()},getSuchPigSitearea:function(){var e=this;Object(u["hb"])({pig_farm_id:this.userInfo.farm_id}).then((function(t){t.data.success?e.listSuchPigSitearea=t.data.msg:Object(m["Message"])({type:"warning",message:t.data.msg,showClose:!0,duration:3e3})}))},handlerChangeSuchSitearea:function(){this.getSuchPiggerybyid(),this.formSuchObj.such_door="",this.formSuchObj.such_dorm="",this.piggerySuchList=[],this.stySuchByPiggeryList=[]},getSuchPiggerybyid:function(){var e=this;Object(u["jb"])({SiteAreaid:this.formSuchObj.such_sitearea}).then((function(t){t.data.success?e.piggerySuchList=t.data.msg:Object(m["Message"])({type:"warning",message:t.data.msg,showClose:!0,duration:3e3})}))},handlerChangeSuchDoor:function(){this.getSuchStyByPiggery(),this.formSuchObj.such_dorm="",this.stySuchByPiggeryList=[]},getSuchStyByPiggery:function(){var e=this;Object(u["nb"])({pig_farm_id:this.userInfo.farm_id,doorid:this.formSuchObj.such_door}).then((function(t){t.data.success?e.stySuchByPiggeryList=t.data.msg:Object(m["Message"])({type:"warning",message:t.data.msg,showClose:!0,duration:3e3})}))},addSuchList:function(){var e=this.suchlabel_id_list,t=this.such_sn,i=this.such_lableid;t||i?i&&8!=i.length?Object(m["Message"])({type:"warning",message:"耳环编号位数不对",showClose:!0,duration:3e3}):Object(h["a"])(e,"source_label",t)||Object(h["a"])(e,"label_id",i)?Object(m["Message"])({type:"warning",message:"请勿重复录入",showClose:!0,duration:3e3}):this.getPigInfoBylable(t,i):Object(m["Message"])({type:"warning",message:"请输入耳号或电子耳标",showClose:!0,duration:3e3})},delSuchLabelId:function(e){var t=e,i=this.suchlabel_id_list;i.splice(t,1),this.suchlabel_id_list=i},getPigInfoBylable:function(e,t){var i=this;Object(u["gb"])({pig_farm_id:this.userInfo.farm_id,label_id:t,source_label:e}).then((function(e){if(e.data.success){var t=i.suchlabel_id_list,a=e.data.data;if(a&&a.length>0){var s=a[0];t.push(s),i.suchlabel_id_list=t,i.such_sn="",i.such_lableid=""}}else Object(m["Message"])({type:"warning",message:e.data.msg,showClose:!0,duration:3e3})}))},resetSuchForm:function(e){this.$refs[e].resetFields(),this.showSuchDialog=!1,this.suchlabel_id_list=[],this.such_sn="",this.such_lableid="",this.formSuchObj.such_sitearea="",this.formSuchObj.such_door="",this.formSuchObj.such_dorm=""},onSuchSubmit:function(e){var t=this,i=this.suchlabel_id_list;0==i.length?Object(m["Message"])({type:"warning",message:"暂无任何数据，请手动输入！",showClose:!0,duration:3e3}):this.$refs[e].validate((function(a){if(!a)return!1;var s=t.dateTimeFormat((new Date).getTime());s=s.substring(11,19);var r={sty_number:t.formSuchObj.such_dorm,label_ids:JSON.stringify(i),user_serial:t.userInfo.userId,pig_type:0,checkinTime:t.dateFormat(t.such_time)+" "+s};o()({method:"post",url:"https://monitor.coyotebio-lab.com:8443/wisdomLivestockWH/PCpigManagement/NewSuch.hn",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},data:r}).then((function(i){i.data.success?(Object(m["Message"])({type:"success",message:i.data.msg,showClose:!0,duration:3e3}),t.getJumpList(),t.$refs[e].resetFields(),t.showSuchDialog=!1,t.suchlabel_id_list=[],t.such_sn="",t.such_lableid="",t.formSuchObj.such_sitearea="",t.formSuchObj.such_door="",t.formSuchObj.such_dorm=""):Object(m["Message"])({type:"warning",message:i.data.msg,showClose:!0,duration:3e3})}))}))},getOnlineList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.currentOnline=t,Object(u["db"])({pig_farm_id:this.userInfo.farm_id,page:this.currentOnline,limit:this.limitOnline}).then((function(t){t.data.success?(e.listOnline=t.data.data,e.totalOnline=parseInt(t.data.count)):Object(m["Message"])({type:"warning",message:t.data.msg,showClose:!0,duration:3e3})}))},handleOnlineSizeChange:function(e){this.limitOnline=e,this.getOnlineList()},addOnline:function(){this.online_time=this.dateFormat((new Date).getTime()),this.showOnlineDialog=!0},resetOnlineForm:function(e){this.$refs[e].resetFields(),this.showOnlineDialog=!1,this.formOnlineObj.online_sn="",this.formOnlineObj.online_lableid="",this.formOnlineObj.online_remark=""},onOnlineSubmit:function(e){var t=this;this.$refs[e].validate((function(i){if(!i)return!1;var a=t.dateTimeFormat((new Date).getTime());a=a.substring(11,19);var s={pig_farm_id:t.userInfo.farm_id,source_label:t.formOnlineObj.online_sn,label_id:t.formOnlineObj.online_lableid,user_id:t.userInfo.userId,operation:t.formOnlineObj.online_remark,remarks:"2"==t.formOnlineObj.online_remark?"出栏":"死亡"};Object(u["wb"])(s).then((function(i){i.data.success?(Object(m["Message"])({type:"success",message:i.data.msg,showClose:!0,duration:3e3}),t.getOnlineList(),t.$refs[e].resetFields(),t.showOnlineDialog=!1,t.formOnlineObj.online_sn="",t.formOnlineObj.online_lableid="",t.formOnlineObj.online_remark=""):Object(m["Message"])({type:"warning",message:i.data.msg,showClose:!0,duration:3e3})}))}))},handlerDelete:function(e){3==this.numberType?(this.deleteOzoneDialog=!0,this.idDis=e):4==this.numberType&&(this.deleteOzoneDialog=!0,this.idDoor=e)},deleteOzoneClick:function(){var e=this;3==this.numberType?this.idDis&&Object(u["l"])({id:this.idDis,userid:this.userInfo.userId,pig_farm_id:this.userInfo.farm_id}).then((function(t){t.data.success?(Object(m["Message"])({type:"success",message:t.data.msg,showClose:!0,duration:3e3}),e.deleteOzoneDialog=!1,e.getpiglist()):Object(m["Message"])({type:"warning",message:t.data.msg,showClose:!0,duration:3e3})})):4==this.numberType&&Object(u["i"])({door:this.idDoor,pig_farm_id:this.userInfo.farm_id}).then((function(t){t.data.success?(Object(m["Message"])({type:"success",message:t.data.msg,showClose:!0,duration:3e3}),e.deleteOzoneDialog=!1,e.getDoorlist()):Object(m["Message"])({type:"warning",message:t.data.msg,showClose:!0,duration:3e3})}))},handlerClick:function(e){alert(e)},handleClick:function(e){this.numberType=e,7==e?(this.listOnline=[],this.currentOnline=1,this.limitOnline=10,this.getOnlineList()):6==e?(this.timeJumplist=[],this.currentJump=1,this.limitJump=10,this.getJumpList()):5==e?(this.currentLairaging=1,this.limitLairaging=10,this.getLairagingList()):4==e?(this.limitDoor=10,this.currentDoor=1,this.getEmployeesLists(),this.getHostList(),this.getDoorlist()):3==e?(this.limitPig=10,this.currentPig=1,this.getpiglist(),this.getBreedlist()):2==e?(this.door2="",this.status2="",this.limit2=10,this.current2=1,this.getPigHistorylist(),this.getPigSitearea(),this.getAllPiggery()):this.getdisplaysum()},showColumn:function(){this.showColumnDialog=!0,this.getColumntransferrecord()},getColumntransferrecord:function(){var e=this;Object(u["G"])({label_id:this.pigInfoObj.label_id,page:this.currentColumn,limit:this.limitColumn,pig_farm_id:this.userInfo.farm_id}).then((function(t){t.data.success?(e.listColumn=t.data.data,e.totalColumn=parseInt(t.data.count)):Object(m["Message"])({type:"warning",message:t.data.msg,showClose:!0,duration:3e3})}))},handleColumnSizeChange:function(e){this.limitColumn=e,this.getColumntransferrecord()},downloadLairage:function(){window.open("https://monitor.coyotebio-lab.com/lairaging.xlsx")},downloadSuch:function(){window.open("https://monitor.coyotebio-lab.com/jump.xlsx")},handlerBadge:function(e){this.numberType=2,this.door2=e,this.status2="4",this.limit2=10,this.current2=1,this.getPigHistorylist(),this.getPigSitearea(),this.getAllPiggery()},handlerLabel:function(e){this.numberType=2,this.door2=e,this.status2="",this.limit2=10,this.current2=1,this.getPigHistorylist(),this.getPigSitearea(),this.getAllPiggery()}}},_=b,f=(i("948d"),i("2877")),y=Object(f["a"])(_,a,s,!1,null,null,null);t["default"]=y.exports}}]);