(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20a9ef5b"],{"1bfa":function(t,e,a){"use strict";a("fb28")},"2ac0":function(t,e,a){"use strict";a("3b8f")},"3b8f":function(t,e,a){},"658c":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index-index-container"},[a("div",{staticClass:"index-index-container-1"},[a("div",{staticClass:"index-container-left index-pulic_box_shadow",staticStyle:{padding:"20px 0px 0px 0px"}},[a("div",{staticClass:"index-pie-top"},[a("div",{staticClass:"index-pie-top-title"},[t._v("猪只个体健康")]),a("el-row",[a("el-date-picker",{attrs:{align:"center",type:"date",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",placeholder:"选择日期",readonly:""},model:{value:t.currentDate,callback:function(e){t.currentDate=e},expression:"currentDate"}})],1)],1),a("div",{staticClass:"index-pie-view"},[a("div",{ref:"echarttemp1",staticClass:"echart-view",attrs:{id:"echarttemp1"}}),a("div",{ref:"echarttemp2",staticClass:"echart-view",attrs:{id:"echarttemp2"}}),a("div",{ref:"echarttemp3",staticClass:"echart-view",attrs:{id:"echarttemp3"}})])]),a("div",{staticClass:"index-container-right index-pulic_box_shadow"},[a("div",{staticStyle:{padding:"10px"}},[t._v("发热猪信息")]),a("el-table",{staticStyle:{width:"660px"},attrs:{data:t.listFever,stripe:"",border:"",height:"250","row-style":t.iRowStyle,"cell-style":t.iCellStyle,"header-row-style":t.iHeaderRowStyle,"header-cell-style":t.iHeaderCellStyle,size:"mini"}},[a("el-table-column",{attrs:{prop:"Sitearea",width:"120",label:"场区",align:"center"}}),a("el-table-column",{attrs:{prop:"door",width:"120",label:"栋舍",align:"center"}}),a("el-table-column",{attrs:{prop:"sty_number",width:"120",label:"栏位",align:"center"}}),a("el-table-column",{attrs:{prop:"source_label",width:"100",label:"耳号",align:"center"}}),a("el-table-column",{attrs:{prop:"temp",width:"80",label:"体温(°C)",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",{staticStyle:{color:"#F32222"}},[t._v(t._s(e.row.temp))])]}}])}),a("el-table-column",{attrs:{prop:"act",width:"120",label:"活跃度",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["0"==e.row.act?a("p",[t._v("无")]):t._e(),"1"==e.row.act?a("p",[t._v("低")]):t._e(),"2"==e.row.act?a("p",[t._v("中")]):t._e(),"3"==e.row.act?a("p",[t._v("高")]):t._e()]}}])})],1),a("div",{staticClass:"index-block"},[a("el-pagination",{staticStyle:{padding:"10px 0","text-align":"center"},attrs:{"current-page":t.currentFever,"page-size":t.limitFever,total:t.totalFever,layout:"total, sizes, prev, pager, next","page-sizes":[5,10,20,30,40]},on:{"current-change":t.getFeverLabelInfo,"size-change":t.handleSizeChangeFever}})],1)],1)]),a("div",{staticClass:"index-index-container-2"},[a("div",{staticClass:"index-container-2-left index-pulic_box_shadow"},[a("div",{staticStyle:{padding:"10px"}},[t._v("淋浴预警 失败累计数量("+t._s(t.totalAlarm)+")")]),a("el-table",{staticStyle:{width:"400px"},attrs:{data:t.listAlarm,stripe:"",border:"",height:"300","row-style":t.iRowStyle,"cell-style":t.iCellStyle,"header-row-style":t.iHeaderRowStyle,"header-cell-style":t.iHeaderCellStyle}},[a("el-table-column",{attrs:{prop:"head_url",width:"80",label:"头像",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"el-img"},[a("el-image",{staticStyle:{width:"30px",height:"30px","border-radius":"100%"},attrs:{src:e.row.head_url,"preview-src-list":t.srcListAlarm,fit:"cover"}})],1)]}}])}),a("el-table-column",{attrs:{prop:"real_name",width:"100",label:"姓名",align:"center"}}),a("el-table-column",{attrs:{prop:"create_time",width:"120",label:"时间",align:"center"}}),a("el-table-column",{attrs:{prop:"status",width:"100",label:"结果",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==e.row.status?a("p",[t._v("成功")]):t._e(),"0"==e.row.status?a("p",{staticStyle:{color:"#F32222"}},[t._v("失败")]):t._e()]}}])})],1),a("div",{staticClass:"index-block",staticStyle:{"margin-top":"15px"}},[a("el-pagination",{staticStyle:{padding:"10px 0","text-align":"center"},attrs:{"current-page":t.currentAlarm,"page-size":t.limitAlarm,total:t.totalAlarm,layout:"total, sizes, prev, pager, next","page-sizes":[5,10,20,30,40]},on:{"current-change":t.getAlarmList,"size-change":t.handleSizeChangeAlarm}})],1)],1),a("div",{staticClass:"index-container-2-right index-pulic_box_shadow"},[a("div",{staticStyle:{padding:"10px"}},[t._v("物资消毒预警 违规累计数量("+t._s(t.totalGoods)+")")]),a("el-table",{staticStyle:{width:"400px"},attrs:{data:t.listGoods,stripe:"",border:"",height:"300","row-style":t.iRowStyle,"cell-style":t.iCellStyle,"header-row-style":t.iHeaderRowStyle,"header-cell-style":t.iHeaderCellStyle}},[a("el-table-column",{attrs:{prop:"address",width:"80",label:"位置",align:"center"}}),a("el-table-column",{attrs:{prop:"end_time",width:"120",label:"时间",align:"center"}}),a("el-table-column",{attrs:{prop:"status",width:"100",label:"结果",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==e.row.status||"2"==e.row.status||"3"==e.row.status||"6"==e.row.status?a("p",[t._v("正常")]):t._e(),"0"==e.row.status||"4"==e.row.status||"5"==e.row.status?a("p",{staticStyle:{color:"#F32222"}},[t._v("违规")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"ViolationReason",width:"100",label:"原因",align:"center"}})],1),a("div",{staticClass:"index-block",staticStyle:{"margin-top":"15px"}},[a("el-pagination",{staticStyle:{padding:"10px 0","text-align":"center"},attrs:{"current-page":t.currentGoods,"page-size":t.limitGoods,total:t.totalGoods,layout:"total, sizes, prev, pager, next","page-sizes":[5,10,20,30,40]},on:{"current-change":t.getGoodsRecord,"size-change":t.handleSizeChangeGoods}})],1)],1),a("div",{staticClass:"index-container-2-right index-pulic_box_shadow"},[a("div",{staticStyle:{padding:"10px"}},[t._v("小动物预警")]),a("el-table",{staticStyle:{width:"400px"},attrs:{data:t.listAnimal,stripe:"",border:"",height:"300","row-style":t.iRowStyle,"cell-style":t.iCellStyle,"header-row-style":t.iHeaderRowStyle,"header-cell-style":t.iHeaderCellStyle}},[a("el-table-column",{attrs:{prop:"address",width:"80",label:"位置",align:"center"}}),a("el-table-column",{attrs:{prop:"createtime",width:"120",label:"时间",align:"center"}}),a("el-table-column",{attrs:{prop:"img",width:"200",label:"图片",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"el-img"},[a("el-image",{staticStyle:{width:"160px",height:"60px"},attrs:{fit:"cover",src:e.row.img,"preview-src-list":t.srcList}})],1)]}}])})],1),a("div",{staticClass:"index-block",staticStyle:{"margin-top":"15px"}},[a("el-pagination",{staticStyle:{padding:"10px 0","text-align":"center"},attrs:{"current-page":t.currentAnimal,"page-size":t.limitAnimal,total:t.totalAnimal,layout:"total, sizes, prev, pager, next","page-sizes":[5,10,20,30,40]},on:{"current-change":t.getAnimalRecord,"size-change":t.handleSizeChangeAnimal}})],1)],1)]),t.showImg?a("big-img",{attrs:{imgSrc:t.imgSrc},on:{clickit:t.viewImg}}):t._e()],1)},l=[],r=(a("159b"),a("313e")),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade"}},[a("div",{staticClass:"img-view",on:{click:t.bigImg}},[a("div",{staticClass:"img-layer"}),a("div",{staticClass:"img"},[a("img",{attrs:{src:t.imgSrc}})])])])},s=[],o={props:["imgSrc"],methods:{bigImg:function(){this.$emit("clickit")}}},c=o,d=(a("2ac0"),a("0c7c")),m=Object(d["a"])(c,n,s,!1,null,"c6b8ed82",null),p=m.exports,h=a("c1df"),u=a.n(h),g=a("fd03"),f=a("5c96"),w={components:{"big-img":p},data:function(){return{userInfo:JSON.parse(window.localStorage.getItem("userInfo")),showImg:!1,imgSrc:"",currentDate:new Date,chartTempDom1:"",myChartTemp1:"",optionTemp1:"",chartTempDom2:"",myChartTemp2:"",optionTemp2:"",chartTempDom3:"",myChartTemp3:"",optionTemp3:"",currentFever:1,limitFever:5,totalFever:0,listFever:[],currentAlarm:1,limitAlarm:5,totalAlarm:0,listAlarm:[],srcListAlarm:[],currentGoods:1,limitGoods:5,totalGoods:0,listGoods:[],currentAnimal:1,limitAnimal:5,totalAnimal:0,listAnimal:[],srcList:[]}},created:function(){},mounted:function(){var t=this;this.$nextTick((function(){t.chartTempDom1=t.$refs.echarttemp1,t.myChartTemp1=r["a"](t.chartTempDom1),t.chartTempDom2=t.$refs.echarttemp2,t.myChartTemp2=r["a"](t.chartTempDom2),t.chartTempDom3=t.$refs.echarttemp3,t.myChartTemp3=r["a"](t.chartTempDom3),t.currentDate=t.dateFormat(t.currentDate),t.getPigSurvey(),t.getFeverLabelInfo(),t.getAlarmList(),t.getGoodsRecord(),t.getAnimalRecord()}))},methods:{iRowStyle:function(t){t.row,t.rowIndex;return"height:35px"},iHeaderRowStyle:function(t){t.row,t.rowIndex;return"height:46px"},iCellStyle:function(t){t.row,t.column,t.rowIndex,t.columnIndex;return"padding:0px"},iHeaderCellStyle:function(t){t.row,t.column,t.rowIndex,t.columnIndex;return"padding:0px"},clickImg:function(t){this.showImg=!0,this.imgSrc=t.currentTarget.src},viewImg:function(){this.showImg=!1},dateFormat:function(t){return void 0==t?"":u()(t).format("YYYY-MM-DD")},isEmpty:function(t){return null==t||void 0==t||""==t},getPigSurvey:function(){var t=this;Object(g["gb"])({pig_farm_id:this.userInfo.farm_id,time:this.currentDate}).then((function(e){if(e.data.success){var a=e.data.abnormalsum,i=e.data.cun,l=e.data.feversum;t.initChart(i,l,a)}else Object(f["Message"])({type:"warning",message:e.data.msg,showClose:!0,duration:3e3})}))},getFeverLabelInfo:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.currentFever=e,Object(g["N"])({pig_farm_id:this.userInfo.farm_id,page:this.currentFever,limit:this.limitFever}).then((function(e){200==e.data.code?(t.listFever=e.data.data,t.totalFever=e.data.count):Object(f["Message"])({type:"warning",message:e.data.msg,showClose:!0,duration:3e3})}))},handleSizeChangeFever:function(t){this.limitFever=t,this.getFeverLabelInfo()},getAlarmList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.currentAlarm=e,Object(g["y"])({pig_farm_id:this.userInfo.farm_id,page:this.currentAlarm,limit:this.limitAlarm,jobname:"",type:0}).then((function(e){200==e.data.code?(t.listAlarm=e.data.data,t.totalAlarm=parseInt(e.data.count),t.listAlarm.forEach((function(e){t.srcListAlarm.push(e.head_url)}))):Object(f["Message"])({type:"warning",message:e.data.msg,showClose:!0,duration:3e3})}))},handleSizeChangeAlarm:function(t){this.limitAlarm=t,this.getAlarmList()},getGoodsRecord:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.currentGoods=e,Object(g["Q"])({pig_farm_id:this.userInfo.farm_id,page:this.currentGoods,limit:this.limitGoods}).then((function(e){200==e.data.code?(t.listGoods=e.data.data,t.totalGoods=e.data.count):Object(f["Message"])({type:"warning",message:e.data.msg,showClose:!0,duration:3e3})}))},handleSizeChangeGoods:function(t){this.limitGoods=t,this.getGoodsRecord()},getAnimalRecord:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.currentAnimal=e,Object(g["B"])({pig_farm_id:this.userInfo.farm_id,page:this.currentAnimal,limit:this.limitAnimal}).then((function(e){200==e.data.code?(t.listAnimal=e.data.data,t.totalAnimal=e.data.count,t.listAnimal.forEach((function(e){t.srcList.push(e.img)}))):Object(f["Message"])({type:"warning",message:e.data.msg,showClose:!0,duration:3e3})}))},handleSizeChangeAnimal:function(t){this.limitAnimal=t,this.getAnimalRecord()},initChart:function(t,e,a){this.myChartTemp1.setOption({title:{text:t+"\n存栏",textStyle:{lineHeight:22},left:"center",top:"center"},series:[{type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},labelLine:{show:!1},emphasis:{label:{show:!1,fontSize:"30",fontWeight:"bold"}},data:[{value:t,name:"存栏"}]}]}),this.myChartTemp2.setOption({title:{text:e+"\n发热",textStyle:{lineHeight:22},left:"center",top:"center"},series:[{type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},labelLine:{show:!1},emphasis:{label:{show:!1,fontSize:"30",fontWeight:"bold"}},data:[{value:e,name:"发热"}],color:"red"}]}),this.myChartTemp3.setOption({title:{text:a+"\n离线",textStyle:{lineHeight:22},left:"center",top:"center"},series:[{type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},labelLine:{show:!1},emphasis:{label:{show:!1,fontSize:"30",fontWeight:"bold"}},data:[{value:a,name:"离线"}],color:"green"}]})}}},v=w,b=(a("1bfa"),Object(d["a"])(v,i,l,!1,null,null,null));e["default"]=b.exports},fb28:function(t,e,a){}}]);